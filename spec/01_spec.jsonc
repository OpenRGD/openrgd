// =====================================================
// OPENRGD — DOMAIN SPEC (HUMAN TWIN) — 01_spec.jsonc
// -----------------------------------------------------
// Generated at: 2025-11-26T01:26:34.951908
// =====================================================

{
  "meta": {
    "standard": "OpenRGD",
    "type": "DOMAIN_HUMAN_TWIN_WITH_COMMENTS",
    "domain": "01_spec.jsonc",
    "version": "0.1.0"
  },
  "files": [
    {
      "path": "spec/01_spec.jsonc",
      "id": "01_spec",
      "domain": "01_spec.jsonc",
      "content": 
      // =====================================================
      // OPENRGD — DOMAIN SPEC (HUMAN TWIN) — 01_spec.jsonc
      // -----------------------------------------------------
      // Generated at: 2025-11-26T00:05:42.179752
      // =====================================================

      {
        "meta": {
          "standard": "OpenRGD",
          "type": "DOMAIN_HUMAN_TWIN_WITH_COMMENTS",
          "domain": "01_spec.jsonc",
          "version": "0.1.0"
        },
        "files": [
          {
            "path": "spec/01_spec.jsonc",
            "id": "01_spec",
            "domain": "01_spec.jsonc",
            "content": 
            // =====================================================
            // OPENRGD — DOMAIN SPEC (HUMAN TWIN) — 01_foundation
            // -----------------------------------------------------
            // Generated at: 2025-11-26T00:05:05.762119
            // =====================================================

            {
              "meta": {
                "standard": "OpenRGD",
                "type": "DOMAIN_HUMAN_TWIN_WITH_COMMENTS",
                "domain": "01_foundation",
                "version": "0.1.0"
              },
              "files": [
                {
                  "path": "spec/01_foundation/actuation_dynamics.jsonc",
                  "id": "actuation_dynamics",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD v0.2 — ACTUATION DYNAMICS
                   * ------------------------------------------------------------------
                   * FILE: actuation_dynamics.jsonc
                   * CONTEXT: 01_FOUNDATION (The Body)
                   *
                   * PURPOSE:
                   *  - Describe how actuators + transmission + joint actually behave
                   *    as dynamic systems (inertia, friction, saturation, torque-speed curves).
                   *  - Provide a canonical source for controllers, simulators and planners
                   *    to reason about effort, acceleration, jerk and safety envelopes.
                   *
                   * HUMAN INTERPRETATION:
                   *  - Think of this file as the "physics sheet" of joints and motors:
                   *    it tells you how much they really can push, how fast, and what breaks first.
                   *
                   * LLM INTERPRETATION:
                   *  - Do NOT invent physical values. If missing, state that they are unknown.
                   *  - When generating controllers/sim code, read:
                   *      * actuator_model_dynamics_map → motor/actuator-level physics
                   *      * joint_dynamics_map         → joint-level, including reflected inertia
                   *      * safety_envelopes_map       → absolute limits you must not exceed
                   */

                  {
                    // ==============================================================
                    // 0. METADATA & LINKAGE
                    // ==============================================================

                    "meta_group": {
                      "dynamics_profile_id_str": "bhl_actuation_dynamics_v1",
                      "version_semver_str": "1.0.0",
                      "last_updated_iso8601_str": "2025-11-23T18:40:00Z",

                      "domain_id_str": "01_foundation",
                      "file_role_enum": "ACTUATION_DYNAMICS_MODEL",

                      "related_files_map": {
                        "actuation_library_ref_str": "01_foundation/actuation_library.jsonc",
                        "actuation_topology_ref_str": "01_foundation/actuation_topology.jsonc",
                        "calibration_ref_str": "01_foundation/calibration.jsonc",
                        "compute_topology_ref_str": "01_foundation/compute_topology.jsonc",
                        "runtime_validation_ref_str": "02_operation/runtime_validation.jsonc"
                      },

                      "interpretation_guides": {
                        "for_humans_str": "Use this file to understand the true dynamic capacity of each actuator and joint, beyond catalog torque values.",
                        "for_llms_str": "When planning motion or designing controllers, combine: actuation_library (static specs) + actuation_topology (mounting) + actuation_dynamics (inertia/friction/envelopes) + calibration (deltas)."
                      }
                    },

                    // ==============================================================
                    // 1. ACTUATOR MODEL DYNAMICS (Motor-side)
                    //
                    // Key = component_model_id_str from actuation_library.jsonc
                    // These are reusable templates, independent from any specific joint.
                    // ==============================================================

                    "actuator_model_dynamics_map": {

                      // ------------------------------------------------------------
                      // T-Motor AK80-9 v2 — Quasi-direct drive actuator
                      // ------------------------------------------------------------
                      "tmotor_ak80_9_v2": {
                        "base_component_ref_str": "tmotor_ak80_9_v2",

                        // Electrical dynamic model (for current / torque / speed)
                        "electrical_model": {
                          "phase_resistance_ohm_float": 0.125,
                          "phase_inductance_h_float": 0.000036,
                          "back_emf_constant_kev_v_per_rad_s_float": 0.095, // approx from Kv
                          "torque_constant_kt_nm_a_float": 0.095            // Nm per Amp
                        },

                        // Rotor-side inertia and friction (before external transmission)
                        "rotor_dynamics": {
                          "rotor_inertia_kgm2_float": 0.00045,
                          "viscous_friction_nm_s_per_rad_float": 0.02,
                          "coulomb_friction_nm_float": 0.05
                        },

                        // Torque-speed envelope at nominal voltage (24V base)
                        // Simplified as piecewise-linear segments.
                        "torque_speed_curve_points_list": [
                          { "speed_rad_s_float": 0.0,  "available_torque_nm_float": 48.0 },
                          { "speed_rad_s_float": 10.0, "available_torque_nm_float": 40.0 },
                          { "speed_rad_s_float": 20.0, "available_torque_nm_float": 28.0 },
                          { "speed_rad_s_float": 30.0, "available_torque_nm_float": 0.0 }
                        ],

                        // Efficiency approximation (for thermal / power estimates)
                        "efficiency_model": {
                          "peak_efficiency_pct_float": 0.85,
                          "nominal_efficiency_pct_float": 0.78
                        },

                        // Saturation & protection behavior at the actuator level
                        "saturation_model": {
                          "max_commandable_torque_nm_float": 48.0,
                          "max_commandable_speed_rad_s_float": 30.0,
                          "thermal_derating_enabled_bool": true
                        }
                      },

                      // ------------------------------------------------------------
                      // Dynamixel XM430-W350 — smart servo
                      // ------------------------------------------------------------
                      "dynamixel_xm430_w350": {
                        "base_component_ref_str": "dynamixel_xm430_w350",

                        "electrical_model": {
                          "input_voltage_nominal_v_float": 12.0,
                          "back_emf_constant_kev_v_per_rad_s_float": 0.06,
                          "torque_constant_kt_nm_a_float": 0.08
                        },

                        "rotor_dynamics": {
                          "rotor_inertia_kgm2_float": 0.00001,
                          "viscous_friction_nm_s_per_rad_float": 0.01,
                          "coulomb_friction_nm_float": 0.02
                        },

                        "torque_speed_curve_points_list": [
                          { "speed_rad_s_float": 0.0, "available_torque_nm_float": 4.1 },
                          { "speed_rad_s_float": 3.0, "available_torque_nm_float": 2.5 },
                          { "speed_rad_s_float": 5.0, "available_torque_nm_float": 0.0 }
                        ],

                        "efficiency_model": {
                          "peak_efficiency_pct_float": 0.7,
                          "nominal_efficiency_pct_float": 0.6
                        },

                        "saturation_model": {
                          "max_commandable_torque_nm_float": 4.1,
                          "max_commandable_speed_rad_s_float": 5.0,
                          "thermal_derating_enabled_bool": true
                        }
                      }
                    },

                    // ==============================================================
                    // 2. JOINT-LEVEL DYNAMICS (Actuator + Transmission + Link)
                    //
                    // Key = actuator instance ID from actuation_topology.jsonc
                    // Here we describe the reflected inertia, joint friction,
                    // compliance, limits, jerk constraints etc.
                    // ==============================================================

                    "joint_dynamics_map": {

                      // ------------------------------------------------------------
                      // RIGHT KNEE — using tmotor_ak80_9_v2 quasi-direct
                      // ------------------------------------------------------------
                      "knee_right_actuator": {
                        "target_joint_ref_str": "knee_joint_right",
                        "component_model_ref_str": "tmotor_ak80_9_v2",

                        // Effective inertia at joint after gearing and linkage
                        "inertia_model": {
                          "reflected_inertia_kgm2_float": 0.12,     // motor + link
                          "link_inertia_kgm2_float": 0.10,
                          "motor_contrib_kgm2_float": 0.02
                        },

                        // Joint friction model (combined structural + transmission)
                        "friction_model": {
                          "viscous_friction_nm_s_per_rad_float": 0.15,
                          "coulomb_friction_nm_float": 0.4,
                          "backlash_hysteresis_rad_float": 0.005
                        },

                        // Joint stiffness and compliance
                        "compliance_model": {
                          "joint_stiffness_nm_rad_float": 1200.0,   // virtual spring
                          "joint_damping_nm_s_per_rad_float": 40.0,
                          "series_elastic_element_bool": false
                        },

                        // Kinematic limits and safe margins (mirrors description + safety)
                        "joint_limits": {
                          "soft_min_position_rad_float": -1.4,
                          "soft_max_position_rad_float":  1.4,
                          "hard_stop_margin_rad_float":   0.1,
                          "max_velocity_rad_s_float":     12.0,
                          "max_acceleration_rad_s2_float": 80.0,
                          "max_jerk_rad_s3_float":        600.0
                        },

                        // How the controller should "feel" at different regimes
                        "behavior_presets": {
                          "walking_mode": {
                            "preferred_impedance_stiffness_nm_rad_float": 900.0,
                            "preferred_impedance_damping_nm_s_per_rad_float": 35.0
                          },
                          "balancing_mode": {
                            "preferred_impedance_stiffness_nm_rad_float": 1400.0,
                            "preferred_impedance_damping_nm_s_per_rad_float": 50.0
                          }
                        }
                      },

                      // ------------------------------------------------------------
                      // RIGHT HIP PITCH — heavily geared version of AK80-9
                      // ------------------------------------------------------------
                      "hip_pitch_right_actuator": {
                        "target_joint_ref_str": "hip_pitch_right",
                        "component_model_ref_str": "tmotor_ak80_9_v2",

                        "inertia_model": {
                          // Bigger reflected inertia due to higher gear ratio
                          "reflected_inertia_kgm2_float": 0.32,
                          "link_inertia_kgm2_float": 0.25,
                          "motor_contrib_kgm2_float": 0.07
                        },

                        "friction_model": {
                          "viscous_friction_nm_s_per_rad_float": 0.25,
                          "coulomb_friction_nm_float": 0.7,
                          "backlash_hysteresis_rad_float": 0.008
                        },

                        "compliance_model": {
                          "joint_stiffness_nm_rad_float": 1500.0,
                          "joint_damping_nm_s_per_rad_float": 60.0,
                          "series_elastic_element_bool": false
                        },

                        "joint_limits": {
                          "soft_min_position_rad_float": -1.2,
                          "soft_max_position_rad_float":  1.2,
                          "hard_stop_margin_rad_float":   0.08,
                          "max_velocity_rad_s_float":     3.3,
                          "max_acceleration_rad_s2_float": 40.0,
                          "max_jerk_rad_s3_float":        200.0
                        },

                        "behavior_presets": {
                          "walking_mode": {
                            "preferred_impedance_stiffness_nm_rad_float": 1200.0,
                            "preferred_impedance_damping_nm_s_per_rad_float": 50.0
                          },
                          "lift_mode": {
                            "preferred_impedance_stiffness_nm_rad_float": 1600.0,
                            "preferred_impedance_damping_nm_s_per_rad_float": 65.0
                          }
                        }
                      },

                      // ------------------------------------------------------------
                      // RIGHT ANKLE PITCH — smaller actuator (AK60-6, for example)
                      // ------------------------------------------------------------
                      "ankle_pitch_right_actuator": {
                        "target_joint_ref_str": "ankle_pitch_right",
                        "component_model_ref_str": "tmotor_ak60_6_v1",

                        "inertia_model": {
                          "reflected_inertia_kgm2_float": 0.06,
                          "link_inertia_kgm2_float": 0.045,
                          "motor_contrib_kgm2_float": 0.015
                        },

                        "friction_model": {
                          "viscous_friction_nm_s_per_rad_float": 0.08,
                          "coulomb_friction_nm_float": 0.25,
                          "backlash_hysteresis_rad_float": 0.004
                        },

                        "compliance_model": {
                          "joint_stiffness_nm_rad_float": 900.0,
                          "joint_damping_nm_s_per_rad_float": 30.0,
                          "series_elastic_element_bool": false
                        },

                        "joint_limits": {
                          "soft_min_position_rad_float": -0.8,
                          "soft_max_position_rad_float":  0.8,
                          "hard_stop_margin_rad_float":   0.06,
                          "max_velocity_rad_s_float":     8.0,
                          "max_acceleration_rad_s2_float": 60.0,
                          "max_jerk_rad_s3_float":        400.0
                        },

                        "behavior_presets": {
                          "walking_mode": {
                            "preferred_impedance_stiffness_nm_rad_float": 800.0,
                            "preferred_impedance_damping_nm_s_per_rad_float": 28.0
                          },
                          "terrain_adaptation_mode": {
                            "preferred_impedance_stiffness_nm_rad_float": 650.0,
                            "preferred_impedance_damping_nm_s_per_rad_float": 22.0
                          }
                        }
                      }
                    },

                    // ==============================================================
                    // 3. SAFETY ENVELOPES (Global Effort Constraints)
                    //
                    // Here definiamo i limiti assoluti "non negoziabili" a livello
                    // attuazione, da usare insieme a runtime_validation.
                    // ==============================================================

                    "safety_envelopes_map": {

                      "default_leg_envelope": {
                        "applies_to_actuators_list_str": [
                          "knee_right_actuator",
                          "hip_pitch_right_actuator",
                          "ankle_pitch_right_actuator"
                        ],

                        // Envelope as scalar caps
                        "max_torque_nm_float": 120.0,
                        "max_power_w_float": 800.0,
                        "max_mechanical_work_j_float": 2500.0,

                        // Derating based on joint temperature ratio (0–1 of max)
                        "thermal_derating_curve": {
                          "start_derate_ratio_float": 0.8,   // at 80% of max temp
                          "full_derate_ratio_float": 0.95,   // at 95% → torque minimal
                          "min_derated_torque_fraction_float": 0.2
                        }
                      }
                    },

                    // ==============================================================
                    // 4. SIMULATION BACKEND MAPPINGS
                    //
                    // Hint parameters for various physics engines to match real hardware.
                    // ==============================================================

                    "simulation_backend_overrides_map": {
                      "isaac_sim": {
                        "use_implicit_timestep_bool": true,
                        "default_timestep_s_float": 0.002,
                        "solver_iterations_int": 8
                      },
                      "mujoco": {
                        "default_timestep_s_float": 0.002,
                        "solver_iterations_int": 10,
                        "constraint_softness_float": 0.001
                      }
                    },

                    // ==============================================================
                    // 5. LLM GUIDANCE
                    // ==============================================================

                    "llm_guidance": {
                      "when_generating_controllers": {
                        "prefer_impedance_control_bool": true,
                        "avoid_exceeding_joint_limits_bool": true,
                        "must_respect_safety_envelopes_bool": true,
                        "hint_str": "Use impedance-like control with stiffness/damping from behavior_presets when in doubt."
                      },
                      "when_generating_simulation_configs": {
                        "do_not_increase_torque_beyond_envelope_bool": true,
                        "align_mass_inertia_with_description_and_calibration_bool": true
                      }
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/actuation_library.jsonc",
                  "id": "actuation_library",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD - ACTUATION LIBRARY v0.2
                   * ------------------------------------------------------------------
                   * FILE: actuation_library.jsonc
                   * CONTEXT: 01_FOUNDATION (The Body)
                   *
                   * PURPOSE:
                   * - Central catalog of actuator physics and metadata.
                   * - Each entry describes a reusable actuator *model* (not an instance)
                   *   that can be referenced by actuation_topology.jsonc.
                   *
                   * HUMAN INTERPRETATION:
                   * - Think of this file as the robot's "muscle catalog": part numbers,
                   *   torque ceilings, thermal limits, inertia, and where to find CAD.
                   *
                   * LLM INTERPRETATION:
                   * - Never store joint-specific details here (gear ratio, direction,
                   *   safety limits). Those live in actuation_topology.jsonc.
                   * - Treat each key in component_catalog_map as a reusable template.
                   * - When reasoning about joint capability, combine:
                   *      actuator_library specs
                   *    + transmission_config (from actuation_topology.jsonc)
                   *    + application_limits (from actuation_topology.jsonc)
                   */

                  {
                    // ==============================================================
                    // 0. METADATA & LINKAGE
                    // ==============================================================
                    "meta_group": {
                      "library_id_str": "core_actuators_lib_v1",
                      "version_semver_str": "1.1.0",
                      "last_updated_iso8601_str": "2025-11-23T16:30:00Z",
                      "license_enum": "MIT_OPEN_HARDWARE",

                      "domain_id_str": "01_foundation",
                      "file_role_enum": "ACTUATION_COMPONENT_CATALOG",

                      "governance": {
                        "stewardship_organization_str": "Italia Robotica",
                        "lead_maintainer_str": "Pasquale Ranieri",
                        "maintainer_role_enum": "STANDARDS_ARCHITECT",
                        "contact_uri_str": "mailto:standards@italiarobotica.it",
                        "citation_text_str": "Ranieri, P., et al. (2025). OpenRGD Core Actuator Library."
                      },

                      "related_files_map": {
                        "actuation_topology_ref_str": "01_foundation/actuation_topology.jsonc",
                        "description_ref_str": "01_foundation/description.jsonc",
                        "compute_topology_ref_str": "01_foundation/compute_topology.jsonc"
                      },

                      "interpretation_guides": {
                        "for_humans_str": "Use this catalog to choose which physical actuator model to mount on a joint. Joint-specific gearboxes and safety limits are configured in actuation_topology.jsonc.",
                        "for_llms_str": "When asked about torque, power or inertia of an actuator, read from this file. Do not assume any particular joint: the same component_model_ref_str can be reused in multiple joints with different transmissions."
                      }
                    },

                    // ==============================================================
                    // 1. COMPONENT CATALOG
                    // Key = component_model_id_str
                    //
                    // EXTENSIBILITY:
                    // - You can safely add more actuators as new keys.
                    // - Existing fields should remain stable; new fields should be
                    //   optional for backward compatibility.
                    // ==============================================================
                    "component_catalog_map": {
    
                      // =========================================================
                      // COMPONENT: T-Motor AK80-9
                      // Standard quasi-direct drive actuator for dynamic leg joints.
                      // =========================================================
                      "tmotor_ak80_9_v2": {
                        "type_enum": "BLDC_ACTUATOR_INTEGRATED",
                        "manufacturer_str": "T-Motor",
                        "description_str": "High-torque density actuator with integrated planetary gear.",
                        "product_page_uri_str": "https://store.t-motor.com/ak80_9_v2",

                        // ELECTRICAL SPECS
                        // Critical for power_distribution.jsonc to compute bus load.
                        "electrical_specs": {
                          "kv_rating_rpm_v_float": 100.0,
                          "phase_resistance_ohm_float": 0.125,
                          "phase_inductance_h_float": 0.000036,
                          "input_voltage_nominal_v_float": 24.0,
                          "input_voltage_max_v_float": 48.0,
                          "peak_current_a_float": 24.0
                        },

                        // PERFORMANCE CEILING (Actuator-side, before software limits)
                        // The physical breaking point of the motor hardware.
                        "performance_limits": {
                          "peak_torque_nm_float": 48.0,
                          "continuous_torque_nm_float": 18.0,
                          "max_speed_rad_s_float": 30.0,
                          "torque_constant_kt_nm_a_float": 0.095 // Calculated before gearbox
                        },

                        // THERMAL MODEL
                        // Used by the Runtime to throttle performance before overheating.
                        "thermal_properties": {
                          "thermal_mass_j_k_float": 900.0,
                          "thermal_resistance_housing_c_w_float": 0.8,
                          "max_coil_temp_c_float": 120.0, // Absolute shutdown temp
                          "warning_temp_c_float": 85.0    // Soft throttle temp
                        },

                        // MECHANICAL INERTIA
                        // Vital for world_model to simulate impedance accurately.
                        "mechanical_properties": {
                          "rotor_inertia_kgm2_float": 0.00045,
                          "weight_kg_float": 0.485,
                          "gear_ratio_internal_float": 9.0
                        },
      
                        // Optional assets (CAD/URDF/USD) for sim and viz
                        "assets_uri_map": {
                          "usd_uri_str": "assets/components/tmotor/ak80_9_v2.usd",
                          "urdf_uri_str": "assets/components/tmotor/ak80_9_v2.urdf",
                          "datasheet_pdf_uri_str": "assets/datasheets/tmotor/ak80_9_v2.pdf"
                        }
                      },

                      // =========================================================
                      // COMPONENT: Dynamixel XM430-W350
                      // Smart servo for precision manipulation (heads/hands, small joints).
                      // =========================================================
                      "dynamixel_xm430_w350": {
                        "type_enum": "SMART_SERVO_SERIES",
                        "manufacturer_str": "Robotis",
                        "description_str": "Compact smart servo with integrated control and feedback.",
                        "product_page_uri_str": "https://emanual.robotis.com/docs/en/dxl/x/xm430-w350/",

                        "electrical_specs": {
                          "input_voltage_nominal_v_float": 12.0,
                          "input_voltage_max_v_float": 14.8,
                          "peak_current_a_float": 2.3
                        },

                        "performance_limits": {
                          "peak_torque_nm_float": 4.1,
                          "continuous_torque_nm_float": 2.2,
                          "max_speed_rad_s_float": 5.0,      // Approx 47 RPM
                          "backlash_arcmin_float": 15.0      // Mechanical play
                        },

                        "thermal_properties": {
                          "max_coil_temp_c_float": 80.0
                        },
      
                        "mechanical_properties": {
                          "rotor_inertia_kgm2_float": 0.00001,
                          "weight_kg_float": 0.082
                        },

                        "assets_uri_map": {
                          "usd_uri_str": "assets/components/dynamixel/xm430_w350.usd",
                          "urdf_uri_str": "assets/components/dynamixel/xm430_w350.urdf"
                        }
                      }

                      // =========================================================
                      // FUTURE EXTENSIONS:
                      // - brushed_dc_motor_xxx
                      // - hydraulic_actuator_xxx
                      // - series_elastic_actuator_xxx (SEA parameters)
                      // - tendon_drive_unit_xxx (for cable-driven joints)
                      //
                      // New entries should keep the same structural pattern:
                      //  - electrical_specs
                      //  - performance_limits
                      //  - thermal_properties (optional but recommended)
                      //  - mechanical_properties
                      //  - assets_uri_map
                      // =========================================================
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/actuation_topology.jsonc",
                  "id": "actuation_topology",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD - ACTUATION TOPOLOGY v0.1
                   * ------------------------------------------------------------------
                   * FILE: actuation_topology.jsonc
                   * CONTEXT: 01_FOUNDATION (The Body)
                   *
                   * PURPOSE:
                   * - Maps logical kinematic joints to physical actuator models.
                   * - Defines control strategies (PID vs Impedance vs Natural Frequency).
                   * - Bridges the gap between ROS2 Control (Real) and Isaac Sim (Simulation).
                   *
                   * FEATURES:
                   * - Uses "Control Profiles" to avoid repetition (DRY principle).
                   * - Defines explicit drive modes (Force vs Acceleration).
                   */

                  {
                    // ==============================================================
                    // 0. METADATA & LINKAGE
                    // ==============================================================
                    "meta_group": {
                      "topology_id_str": "bhl_actuation_topology_v1_4",
                      "version_semver_str": "1.4.0",
                      "last_verified_iso8601_str": "2025-11-25T14:30:00Z",
                      "domain_id_str": "01_foundation",

                      "related_files_map": {
                        "description_ref_str": "01_foundation/description.jsonc",
                        "actuation_library_ref_str": "01_foundation/actuation_library.jsonc",
                        "hal_mapping_ref_str": "01_foundation/hal_mapping.jsonc"
                      }
                    },

                    // ==============================================================
                    // A. CONTROL PROFILES (ARCHETYPES)
                    // Define reusable behaviors here to keep the mapping clean.
                    // ==============================================================
                    "control_profiles_map": {

                      // ------------------------------------------------------------
                      // PROFILE: HEAVY LEG JOINT (Knee, Hip Pitch)
                      // Optimized for high torque, walking gait stability.
                      // ------------------------------------------------------------
                      "profile_heavy_leg": {
                        "transmission_config": {
                          "efficiency_factor_float": 0.95,
                          "backlash_compensation_rad_float": 0.001
                        },
                        "control_defaults": {
                          "primary_control_mode_enum": "POSITION",
        
                          // ROS2 / Real Hardware Gains
                          "position_mode_gains": { "kp": 150.0, "kd": 8.0, "ki": 0.0 },
                          "velocity_mode_gains": { "kp": 20.0, "ki": 0.1 },

                          // Isaac Sim / Physics Gains
                          "advanced_impedance_model": {
                            "stiffness_nm_rad_float": 150.0, // High stiffness for support
                            "damping_nms_rad_float": 8.0     // Critical damping to prevent oscillation
                          },
        
                          // Tuning Abstract
                          "natural_frequency_config": {
                            "natural_frequency_hz_float": 15.0,
                            "damping_ratio_float": 1.0
                          },

                          "simulation_driver": { "drive_mode_enum": "FORCE" } // Realistic physics
                        }
                      },

                      // ------------------------------------------------------------
                      // PROFILE: LIGHT ARM JOINT (Shoulder, Elbow)
                      // Optimized for compliance and safety.
                      // ------------------------------------------------------------
                      "profile_light_arm": {
                        "transmission_config": { "efficiency_factor_float": 0.98 },
                        "control_defaults": {
                          "primary_control_mode_enum": "POSITION",
        
                          "position_mode_gains": { "kp": 40.0, "kd": 2.0 },
                          "advanced_impedance_model": { "stiffness_nm_rad_float": 40.0, "damping_nms_rad_float": 2.0 },
        
                          "simulation_driver": { "drive_mode_enum": "ACCELERATION" } // Stable IK solving
                        }
                      },

                      // ------------------------------------------------------------
                      // PROFILE: FINE MANIPULATION (Wrist, Gripper)
                      // Optimized for precision.
                      // ------------------------------------------------------------
                      "profile_fine_manipulation": {
                        "transmission_config": { "efficiency_factor_float": 0.90 },
                        "control_defaults": {
                          "primary_control_mode_enum": "POSITION",
                          "position_mode_gains": { "kp": 20.0, "kd": 0.5 },
                          "advanced_impedance_model": { "stiffness_nm_rad_float": 20.0, "damping_nms_rad_float": 0.5 },
                          "simulation_driver": { "drive_mode_enum": "ACCELERATION" }
                        }
                      }
                    },

                    // ==============================================================
                    // B. JOINT MAPPING (INSTANCES)
                    // Links specific joints to profiles + specific limits.
                    // ==============================================================
                    "joint_actuator_mapping_map": {

                      // --- RIGHT LEG ---
    
                      "hip_yaw_right": {
                        "target_joint_ref_str": "leg_right_hip_yaw",
                        "component_model_ref_str": "tmotor_ak80_9_v2",
                        "use_profile_ref_str": "profile_heavy_leg",
                        "application_limits": { "torque_limit_peak_nm_float": 40.0, "velocity_limit_rad_s_float": 12.0 }
                      },

                      "hip_roll_right": {
                        "target_joint_ref_str": "leg_right_hip_roll",
                        "component_model_ref_str": "tmotor_ak80_9_v2",
                        "use_profile_ref_str": "profile_heavy_leg",
                        "application_limits": { "torque_limit_peak_nm_float": 60.0, "velocity_limit_rad_s_float": 10.0 }
                      },

                      "hip_pitch_right": {
                        "target_joint_ref_str": "leg_right_hip_pitch",
                        "component_model_ref_str": "tmotor_ak80_9_v2",
                        "use_profile_ref_str": "profile_heavy_leg",
                        // OVERRIDE: Pitch needs more torque than Yaw
                        "application_limits": { "torque_limit_peak_nm_float": 80.0, "velocity_limit_rad_s_float": 8.0 },
                        "overrides": {
                          "control_defaults": { "position_mode_gains": { "kp": 200.0 } }
                        }
                      },

                      "knee_pitch_right": {
                        "target_joint_ref_str": "leg_right_knee_pitch",
                        "component_model_ref_str": "tmotor_ak80_9_v2",
                        "use_profile_ref_str": "profile_heavy_leg",
                        "application_limits": { "torque_limit_peak_nm_float": 120.0, "velocity_limit_rad_s_float": 12.0 }
                      },

                      "ankle_pitch_right": {
                        "target_joint_ref_str": "leg_right_ankle_pitch",
                        "component_model_ref_str": "tmotor_ak60_6_v1",
                        "use_profile_ref_str": "profile_heavy_leg", // Use heavy profile for stability despite smaller motor
                        "application_limits": { "torque_limit_peak_nm_float": 30.0, "velocity_limit_rad_s_float": 15.0 }
                      },

                      // --- LEFT LEG (Mirrored Logic) ---

                      "hip_yaw_left": {
                        "target_joint_ref_str": "leg_left_hip_yaw",
                        "component_model_ref_str": "tmotor_ak80_9_v2",
                        "use_profile_ref_str": "profile_heavy_leg",
                        "application_limits": { "torque_limit_peak_nm_float": 40.0 }
                      },
                      "hip_roll_left": {
                        "target_joint_ref_str": "leg_left_hip_roll",
                        "component_model_ref_str": "tmotor_ak80_9_v2",
                        "use_profile_ref_str": "profile_heavy_leg",
                        "application_limits": { "torque_limit_peak_nm_float": 60.0 }
                      },
                      "hip_pitch_left": {
                        "target_joint_ref_str": "leg_left_hip_pitch",
                        "component_model_ref_str": "tmotor_ak80_9_v2",
                        "use_profile_ref_str": "profile_heavy_leg",
                        "application_limits": { "torque_limit_peak_nm_float": 80.0 },
                        "overrides": { "control_defaults": { "position_mode_gains": { "kp": 200.0 } } }
                      },
                      "knee_pitch_left": {
                        "target_joint_ref_str": "leg_left_knee_pitch",
                        "component_model_ref_str": "tmotor_ak80_9_v2",
                        "use_profile_ref_str": "profile_heavy_leg",
                        "application_limits": { "torque_limit_peak_nm_float": 120.0 }
                      },
                      "ankle_pitch_left": {
                        "target_joint_ref_str": "leg_left_ankle_pitch",
                        "component_model_ref_str": "tmotor_ak60_6_v1",
                        "use_profile_ref_str": "profile_heavy_leg",
                        "application_limits": { "torque_limit_peak_nm_float": 30.0 }
                      },

                      // --- ARMS ---

                      "shoulder_pitch_right": {
                        "target_joint_ref_str": "arm_right_shoulder_pitch",
                        "component_model_ref_str": "tmotor_ak60_6_v1",
                        "use_profile_ref_str": "profile_light_arm",
                        "application_limits": { "torque_limit_peak_nm_float": 18.0, "velocity_limit_rad_s_float": 20.0 }
                      },
                      "shoulder_roll_right": {
                        "target_joint_ref_str": "arm_right_shoulder_roll",
                        "component_model_ref_str": "tmotor_ak60_6_v1",
                        "use_profile_ref_str": "profile_light_arm",
                        "application_limits": { "torque_limit_peak_nm_float": 18.0 }
                      },
                      "elbow_pitch_right": {
                        "target_joint_ref_str": "arm_right_elbow_pitch",
                        "component_model_ref_str": "tmotor_ak60_6_v1",
                        "use_profile_ref_str": "profile_light_arm",
                        "application_limits": { "torque_limit_peak_nm_float": 18.0 }
                      },

                      "shoulder_pitch_left": {
                        "target_joint_ref_str": "arm_left_shoulder_pitch",
                        "component_model_ref_str": "tmotor_ak60_6_v1",
                        "use_profile_ref_str": "profile_light_arm",
                        "application_limits": { "torque_limit_peak_nm_float": 18.0 }
                      },
                      "shoulder_roll_left": {
                        "target_joint_ref_str": "arm_left_shoulder_roll",
                        "component_model_ref_str": "tmotor_ak60_6_v1",
                        "use_profile_ref_str": "profile_light_arm",
                        "application_limits": { "torque_limit_peak_nm_float": 18.0 }
                      },
                      "elbow_pitch_left": {
                        "target_joint_ref_str": "arm_left_elbow_pitch",
                        "component_model_ref_str": "tmotor_ak60_6_v1",
                        "use_profile_ref_str": "profile_light_arm",
                        "application_limits": { "torque_limit_peak_nm_float": 18.0 }
                      }
                    }


                    // ==============================================================
                    // FUTURE EXTENSIONS (NOT YET USED IN v0.2)
                    //
                    // For an extended standard, you could introduce:
                    //
                    // "multi_actuator_joints_map": {
                    //   "spine_flex_joint": {
                    //     "co_actuators_list": ["spine_actuator_a", "spine_actuator_b"],
                    //     "coordination_strategy_enum": "TORQUE_SHARING"
                    //   }
                    // }
                    //
                    // "impedance_profiles_map": {
                    //   "bouncy_walk": {
                    //     "desired_stiffness_nm_rad_float": 50.0,
                    //     "desired_damping_nms_rad_float": 2.0
                    //   }
                    // }
                    //
                    // The key is to keep the existing structure stable and additive,
                    // so older runtimes can ignore new optional sections.
                    // ==============================================================
                  }
                },
                {
                  "path": "spec/01_foundation/calibration.jsonc",
                  "id": "calibration",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD - REFERENCE IMPLEMENTATION v0.2
                   * ------------------------------------------------------------------
                   * FILE: calibration.jsonc
                   * CONTEXT: 01_FOUNDATION (The Body)
                   *
                   * PURPOSE:
                   * - This file defines the "Delta" between the Ideal CAD model
                   *   (01_foundation/description.jsonc) and the physical reality of
                   *   THIS SPECIFIC ROBOT INSTANCE.
                   *
                   * RUNTIME EQUATION:
                   *   Runtime_Value = Ideal_Value (description) + Calibration_Delta (this file)
                   *
                   * LIFECYCLE:
                   * - This file is MUTABLE and INSTANCE-SPECIFIC.
                   * - It should be updated automatically by calibration routines
                   *   (visual markers, end-stop homing, force/torque sensing, etc.).
                   * - Never edit Ideal geometry or design intent here: only deviations.
                   *
                   * HUMAN INTERPRETATION:
                   * - Think of this as the "medical record" of the robot's body:
                   *   misalignments, wear, lens reality, mass shifts.
                   *
                   * LLM INTERPRETATION:
                   * - Never overwrite or redefine the ideal model from description.jsonc.
                   * - When asked for the current physical state, you MUST conceptually
                   *   apply: runtime = ideal + delta.
                   * - Do not invent new fields: extend via new maps only if the schema
                   *   has been updated.
                   */

                  {
                    // ==============================================================
                    // 1. CALIBRATION METADATA
                    // Traceability of the calibration process and linkage to the ideal model.
                    // ==============================================================
                    "meta_group": {
                      "robot_serial_number_str": "BHL_UNIT_0042",
                      "calibration_profile_id_str": "default_factory_profile_v1",

                      "domain_id_str": "01_foundation",
                      "file_role_enum": "CALIBRATION_DELTA_INSTANCE",

                      "last_calibrated_iso8601_str": "2025-11-23T14:30:00Z",

                      // How was this file generated?
                      "calibration_method_enum": "AUTOMATED_VISUAL_MARKERS", // or MANUAL_FEELER_GAUGE
                      "technician_id_str": "auto_calib_routine_v2.1",

                      // Security & consistency:
                      // Ensures this calibration belongs to the correct description version.
                      "target_description_ref_str": "01_foundation/description.jsonc",
                      "target_description_hash_str": "sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",

                      // Optional confidence and health scores
                      "calibration_confidence_score_float": 0.92,      // 0.0–1.0
                      "calibration_health_status_enum": "GREEN_OK",    // GREEN_OK | YELLOW_WARN | RED_REVIEW

                      "interpretation_guides": {
                        "for_humans_str": "Apply these deltas on top of the ideal description to reconstruct the real robot geometry and dynamics.",
                        "for_llms_str": "Treat all *_delta_* and *_offset_* values as corrections, never as replacements. When reasoning about reality, mentally compose ideal + delta."
                      }
                    },

                    // ==============================================================
                    // 2. KINEMATIC OFFSETS (Joint Zeroing)
                    // No robot is assembled perfectly. The 'zero' angle is never exactly vertical.
                    // These offsets correct the joint configuration space.
                    // ==============================================================
                    "kinematic_offsets_map": {
                      "knee_joint_right": {
                        // The software thinks 0 is straight, but reality is +1.2 degrees off
                        "zero_point_offset_rad_float": 0.021,

                        // Mechanical play/slop in the gears due to wear
                        "backlash_hysteresis_rad_float": 0.005
                      },

                      "hip_pitch_right": {
                        "zero_point_offset_rad_float": -0.015,
                        "backlash_hysteresis_rad_float": 0.002
                      }
                    },

                    // ==============================================================
                    // 3. SENSOR EXTRINSICS (Mounting Errors)
                    // Cameras and IMUs are never mounted exactly where the CAD says.
                    // We define the DELTA (error) relative to the ideal mount pose.
                    // ==============================================================
                    "sensor_extrinsics_delta_map": {
                      "head_camera_main": {
                        // The camera is shifted 1mm right and 2mm down compared to CAD
                        "mount_delta_xyz_m_vec3_float": [0.001, -0.002, 0.0],

                        // The camera is tilted slightly up (~0.5 deg)
                        "mount_delta_rpy_rad_vec3_float": [0.0, 0.0087, 0.0]
                      },

                      "torso_imu": {
                        // IMU misalignment correction
                        "mount_delta_rpy_rad_vec3_float": [0.001, 0.001, 0.0]
                      }
                    },

                    // ==============================================================
                    // 4. SENSOR INTRINSICS (Lens Reality)
                    // Every lens is unique. These are the measured optical properties
                    // for this specific sensor unit.
                    // ==============================================================
                    "sensor_intrinsics_map": {
                      "head_camera_main": {
                        "distortion_model_enum": "PLUMB_BOB", // Standard OpenCV model

                        // Distortion Coefficients [k1, k2, p1, p2, k3]
                        "distortion_coeffs_vec5_float": [-0.2, 0.05, 0.001, 0.0, 0.0],

                        // Camera Matrix K [fx, 0, cx, 0, fy, cy, 0, 0, 1]
                        // Measured focal length and optical center
                        "camera_matrix_k_vec9_float": [
                          520.1, 0.0, 320.5,
                          0.0, 520.1, 240.5,
                          0.0, 0.0, 1.0
                        ]
                      }
                    },

                    // ==============================================================
                    // 5. DYNAMICS CORRECTION (Friction & Mass)
                    // As the robot ages, grease dries (more friction) and cables shift
                    // (CoM change). These multipliers adjust the physics engine.
                    // ==============================================================
                    "dynamics_correction_map": {
                      "knee_joint_right": {
                        // This joint is stiff. Multiply ideal friction by 1.2
                        "friction_scale_factor_float": 1.2,
                        "damping_scale_factor_float": 1.1
                      },

                      "global_body": {
                        // We added a sticker or a battery cover, mass is slightly higher
                        "total_mass_delta_kg_float": 0.05,

                        // Center of mass shifted slightly forward due to heavy battery
                        "center_of_mass_shift_xyz_m_vec3_float": [0.005, 0.0, 0.0]
                      }
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/compute_topology.jsonc",
                  "id": "compute_topology",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD - REFERENCE IMPLEMENTATION v0.2
                   * ------------------------------------------------------------------
                   * FILE: compute_topology.jsonc
                   * CONTEXT: 01_FOUNDATION (The Body)
                   *
                   * PURPOSE:
                   * - Describes the physical computing hardware available on the robot.
                   * - Defines the "Neural Capacity" (TOPS, RAM) and the "Nervous System"
                   *   (bus bandwidth, latency), including ISO 13849 safety requirements.
                   *
                   * HUMAN INTERPRETATION:
                   * - Read this as the wiring diagram of the robot's nervous system:
                   *   which processors exist, how powerful they are, and how fast
                   *   information flows between them.
                   *
                   * LLM INTERPRETATION:
                   * - Use this file to:
                   *   * budget cognitive load (what can run where),
                   *   * respect hard timing constraints for safety loops,
                   *   * decide when to fall back to reflex / MCU logic if the
                   *     high-level planning budget is exceeded.
                   * - Do NOT invent new fields for timing or safety: link to
                   *   compute_federation.jsonc and swarm_protocol.jsonc for
                   *   distributed compute logic instead.
                   */

                  {
                    // ==============================================================
                    // 0. METADATA & LINKAGE
                    // ==============================================================
                    "meta_group": {
                      "topology_id_str": "bhl_compute_stack_v2_iso_compliant",
                      "version_semver_str": "1.2.0",
                      "last_verified_iso8601_str": "2025-11-23T12:00:00Z",

                      "domain_id_str": "01_foundation",
                      "file_role_enum": "COMPUTE_HARDWARE_TOPOLOGY",

                      "governance": {
                        "stewardship_organization_str": "Italia Robotica",
                        "lead_architect_str": "Pasquale Ranieri",
                        "contact_uri_str": "mailto:engineering@italiarobotica.it"
                      },

                      // Cross-file references: where this topology is USED
                      "related_files_map": {
                        "hal_mapping_ref_str": "01_foundation/hal_mapping.jsonc",
                        "safety_policies_ref_str": "02_operation/safety_critical.jsonc",
                        "compute_federation_ref_str": "06_ether/compute_federation.jsonc",
                        "swarm_protocol_ref_str": "06_ether/swarm_protocol.jsonc"
                      },

                      "interpretation_guides": {
                        "for_humans_str": "Describes on-board compute resources, buses, and timing constraints. Use it to check if planned behaviors are compatible with hardware limits.",
                        "for_llms_str": "Treat these values as HARD constraints for safety and latency. If a requested behavior exceeds ai_processing_budget_max_us_int or safety_loop_frequency_min_hz_int, suggest using reflex-level control or offloading according to compute_federation.jsonc."
                      }
                    },

                    // ==============================================================
                    // 1. COMPUTE NODES (The Brains)
                    // Defines the available processors (CPU, GPU, NPU, MCU).
                    // ==============================================================
                    "compute_nodes_map": {
    
                      // --- THE CORTEX (High Level Reasoning) ---
                      "main_brain_unit": {
                        "role_enum": "HIGH_LEVEL_PLANNER",
                        "hardware_model_str": "NVIDIA Jetson Orin Nano 8GB",
                        "architecture_enum": "ARM64_AARCH64",

                        "performance_specs": {
                          "cpu_cores_count_int": 6,
                          "ai_inference_int8_tops_float": 40.0,
                          "gpu_cuda_cores_count_int": 1024
                        },
                        "memory_specs": {
                          "ram_capacity_gb_float": 8.0,
                          "is_unified_memory_bool": true 
                        },

                        // Optional hints for Agency/LLM
                        "logical_hosting_capabilities": {
                          "can_host_llm_planner_bool": true,
                          "max_recommended_llm_context_tokens_int": 16384,
                          "supports_realtime_control_loops_bool": false
                        }
                      },

                      // --- THE SPINE (Real-time Reflexes) ---
                      "spinal_cord_mcu": {
                        "role_enum": "REALTIME_CONTROLLER",
                        "hardware_model_str": "STM32H7",
                        "architecture_enum": "ARM_CORTEX_M7",

                        "performance_specs": {
                          "cpu_clock_max_mhz_float": 480.0,
                          "control_loop_max_frequency_hz_float": 20000.0
                        },
                        "safety_certified_bool": true, // Assumes this unit handles low-level E-Stop logic

                        "logical_hosting_capabilities": {
                          "can_host_llm_planner_bool": false,
                          "supports_reflex_policies_bool": true
                        }
                      },

                      // --- THE SAFETY CORES (ISO 13849 Category 3 Redundancy) ---
                      // Two independent processors required for dual-channel safety architecture.
                      "safety_monitor_fpga": {
                        "role_enum": "SAFETY_CORE_CHANNEL_A",
                        "hardware_model_str": "Dedicated_Safety_FPGA",
                        "architecture_enum": "SIL_3_CERTIFIED",
                        "redundancy_channel_int": 1 // First channel of the dual-channel architecture
                      },

                      "diagnostics_check_unit": {
                        "role_enum": "DIAGNOSTIC_CORE_CHANNEL_B",
                        "hardware_model_str": "Lockstep_MCU",
                        "redundancy_channel_int": 2 // Second channel for cross-checking integrity
                      }
                    },

                    // ==============================================================
                    // 2. COMMUNICATION BUSES (The Nerves)
                    // Physical links that constrain bandwidth and latency between nodes.
                    // NOTE:
                    // - QoS settings for ROS2/DDS streams live in hal_mapping.jsonc.
                    // - Here we only describe physical limits and topology.
                    // ==============================================================
                    "communication_buses_map": {
    
                      "vision_pipeline_bus": {
                        "type_enum": "MIPI_CSI_2",
                        "connected_nodes_list_str": ["head_camera_main", "main_brain_unit"],
                        "specs": {
                          "bandwidth_gbps_float": 10.0,
                          "latency_roundtrip_us_float": 50.0
                        }
                      },

                      "locomotion_can_bus": {
                        "type_enum": "CAN_FD",
                        "connected_nodes_list_str": ["spinal_cord_mcu", "leg_actuators_group"],
                        "specs": {
                          "latency_worst_case_us_float": 500.0
                        }
                      },

                      "inter_process_link": {
                        "type_enum": "USB_SERIAL_HIGH_SPEED",
                        "connected_nodes_list_str": ["main_brain_unit", "spinal_cord_mcu"],
                        "specs": {
                          "latency_roundtrip_us_float": 1000.0
                        }
                      }
                    },

                    // ==============================================================
                    // 3. ISO SAFETY AND TIMING CONSTRAINTS (The Certification Layer)
                    // Enforces Time and Speed Monitoring (TSM) requirements.
                    //
                    // IMPORTANT FOR LLM:
                    // - If a proposed control strategy cannot meet these constraints,
                    //   you MUST recommend:
                    //   * falling back to spinal_cord_mcu reflex loops, or
                    //   * simplifying the plan, or
                    //   * using offloading rules from compute_federation.jsonc (if
                    //     swarm/ether is available).
                    // ==============================================================
                    "timing_constraints": {
                      // TSM Requirement: Maximum allowed delay for safety critical function (Sensor -> Actuator)
                      "sensor_to_actuator_max_latency_us_int": 50000, // 50ms total budget for safety reflex

                      // The guaranteed minimum frequency for the low-level safety loop
                      "safety_loop_frequency_min_hz_int": 200, 

                      // The maximum time budget the high-level AI (Agency/Volition) is allowed to use for deliberation.
                      // If exceeded, the system must act on a faster, simpler reflex.
                      "ai_processing_budget_max_us_int": 10000, // 10ms budget for complex thought

                      // The overall hardware safety architecture required by regulatory bodies
                      "safety_architecture_enum": "DUAL_CHANNEL_CAT3"
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/description.jsonc",
                  "id": "description",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD v0.2 — REFERENCE IMPLEMENTATION
                   * ------------------------------------------------------------------
                   * FILE: description.jsonc
                   * CONTEXT: 01_FOUNDATION (THE BODY — PLATONIC MODEL)
                   *
                   * PURPOSE:
                   *   This file defines the "Ideal Robot" — the CAD-perfect version
                   *   of the embodiment before real-world calibration, wear or sensor drift.
                   *
                   * HUMAN INTERPRETATION:
                   *   Think of this file as the *blueprint of the species*, not a single unit.
                   *   All physical truth begins here. Calibration adjusts FROM this baseline.
                   *
                   * LLM INTERPRETATION:
                   *   Use this file as the canonical source for:
                   *     - link masses, inertias, geometry
                   *     - joint topology, axes, ideal limits
                   *     - sensor placements (before calibration deltas)
                   *     - actuator placement (not actuator physics)
                   *
                   * IMPORTANT:
                   *   - NO friction, offsets, backlash or thermal effects belong here.
                   *     Those are in calibration.jsonc and actuation_dynamics.jsonc.
                   *   - NO runtime or ROS2 information belongs here.
                   *     That is in hal_mapping.jsonc.
                   */

                  {
                    // ==============================================================
                    // 1. CORE METADATA
                    // ==============================================================

                    "meta_group": {
                      "model_id_str": "bhl_humanoid_lite_v2",
                      "species_name_str": "BHL_Lite",
                      "manufacturer_str": "Berkeley_Open_Robotics",
                      "license_enum": "MIT_OPEN_HARDWARE",

                      "version_semver_str": "0.2.0",
                      "release_date_iso8601_str": "2025-11-23",

                      // Quick physical summary
                      "total_mass_ideal_kg_float": 12.5,
                      "dof_active_count_int": 20,
                      "ideal_power_budget_w_float": 350.0,

                      "related_files_map": {
                        "calibration_ref_str": "01_foundation/calibration.jsonc",
                        "actuation_topology_ref_str": "01_foundation/actuation_topology.jsonc",
                        "actuation_dynamics_ref_str": "01_foundation/actuation_dynamics.jsonc",
                        "hal_mapping_ref_str": "01_foundation/hal_mapping.jsonc",
                        "firmware_manifest_ref_str": "01_foundation/firmware_manifest.jsonc"
                      }
                    },

                    // ==============================================================
                    // 2. WORLD / SIM INTERFACE (Ideal Spatial Definition)
                    // ==============================================================

                    "embodiment_config": {
                      "up_axis_enum": "Z_UP",
                      "forward_axis_enum": "X_FORWARD",
                      "unit_system_enum": "SI_METRIC",

                      // The root link in simulation and kinematics
                      "root_link_ref_str": "torso_base_link",

                      "assets_manifest": {
                        "visual_usd_uri_str": "assets/visual/bhl_v2.usd",
                        "collision_usd_uri_str": "assets/collision/bhl_v2_collision.usd",
                        "mesh_scale_vec3_float": [1.0, 1.0, 1.0]
                      }
                    },

                    // ==============================================================
                    // 3. KINEMATIC CHAIN — IDEAL RIGID BODIES
                    // ==============================================================

                    "kinematic_chain_list": [

                      // ------------------------------------------------------------
                      // TORSO
                      // ------------------------------------------------------------
                      {
                        "link_id_str": "torso_base_link",
                        "semantic_tag_enum": "TORSO",

                        "inertial_properties": {
                          "mass_kg_float": 4.2,
                          "center_of_mass_xyz_m_vec3_float": [0.0, 0.0, 0.15],
                          "inertia_tensor_xx_yy_zz_xy_xz_yz_kgm2_vec6_float": [0.05, 0.05, 0.02, 0.0, 0.0, 0.0]
                        },

                        "collision_geometry": {
                          "primitive_type_enum": "BOX",
                          "dimensions_xyz_m_vec3_float": [0.25, 0.15, 0.40]
                        }
                      },

                      // ------------------------------------------------------------
                      // RIGHT THIGH
                      // ------------------------------------------------------------
                      {
                        "link_id_str": "thigh_right_link",
                        "semantic_tag_enum": "UPPER_LEG_RIGHT",

                        "inertial_properties": {
                          "mass_kg_float": 1.8,
                          "center_of_mass_xyz_m_vec3_float": [0.0, 0.0, -0.15],
                          "inertia_tensor_xx_yy_zz_xy_xz_yz_kgm2_vec6_float": [0.01, 0.01, 0.002, 0.0, 0.0, 0.0]
                        }
                      },

                      // ------------------------------------------------------------
                      // RIGHT SHIN
                      // ------------------------------------------------------------
                      {
                        "link_id_str": "shin_right_link",
                        "semantic_tag_enum": "LOWER_LEG_RIGHT",

                        "inertial_properties": {
                          "mass_kg_float": 1.0,
                          "center_of_mass_xyz_m_vec3_float": [0.0, 0.0, -0.18],
                          "inertia_tensor_xx_yy_zz_xy_xz_yz_kgm2_vec6_float": [0.008, 0.008, 0.0015, 0.0, 0.0, 0.0]
                        }
                      },

                      // ------------------------------------------------------------
                      // RIGHT FOOT
                      // ------------------------------------------------------------
                      {
                        "link_id_str": "foot_right_link",
                        "semantic_tag_enum": "FOOT_RIGHT",

                        "inertial_properties": {
                          "mass_kg_float": 0.4,
                          "center_of_mass_xyz_m_vec3_float": [0.02, 0.0, -0.02]
                        },

                        "contact_points_list": [
                          { "label_str": "toe",  "local_pos_vec3_float": [0.1,  0.0, -0.02] },
                          { "label_str": "heel", "local_pos_vec3_float": [-0.05, 0.0, -0.02] }
                        ]
                      }
                    ],

                    // ==============================================================
                    // 4. IDEAL JOINT TOPOLOGY (NO CALIBRATION, NO FRICTION)
                    // ==============================================================

                    "joint_topology_map": {
                      "knee_joint_right": {
                        "type_enum": "REVOLUTE",
                        "semantic_label_str": "right_knee_flexion",

                        "connectivity": {
                          "parent_link_ref_str": "thigh_right_link",
                          "child_link_ref_str": "shin_right_link"
                        },

                        "geometry_ideal": {
                          "origin_xyz_m_vec3_float": [0.0, 0.0, -0.35],
                          "origin_rpy_rad_vec3_float": [0.0, 0.0, 0.0],
                          "axis_xyz_vec3_float": [0.0, 1.0, 0.0]
                        },

                        // These are IDEAL HARD limits, before safety envelopes
                        "limits_ideal": {
                          "position_lower_rad_float": -2.618,
                          "position_upper_rad_float": 0.0,
                          "velocity_max_rad_s_float": 12.0,
                          "effort_max_nm_float": 45.0
                        },

                        // Ideal damping only — no friction, no backlash
                        "dynamics_ideal": {
                          "damping_nms_rad_float": 0.1
                        }
                      }
                    },

                    // ==============================================================
                    // 5. SENSOR MOUNTING — IDEAL EXTRINSICS
                    // ==============================================================

                    "sensors_mounting_map": {
                      "torso_imu": {
                        "device_type_enum": "IMU_6DOF",
                        "parent_frame_ref_str": "torso_base_link",
                        "mount_pose_xyz_m_vec3_float": [0.0, 0.0, 0.0],
                        "mount_pose_rpy_rad_vec3_float": [0.0, 0.0, 0.0],
                        "update_rate_hz_float": 1000.0
                      },

                      "head_camera_main": {
                        "device_type_enum": "RGBD_CAMERA",
                        "parent_frame_ref_str": "head_link",
                        "mount_pose_xyz_m_vec3_float": [0.08, 0.0, 0.05],
                        "mount_pose_rpy_rad_vec3_float": [0.0, 0.0, 0.0],
                        "resolution_wh_vec2_int": [1920, 1080],
                        "fov_horizontal_rad_float": 1.5707  // 90° in radians
                      },

                      "head_mic_array": {
                        "device_type_enum": "MICROPHONE_ARRAY",
                        "channels_count_int": 4,
                        "parent_frame_ref_str": "head_link",
                        "mount_pose_xyz_m_vec3_float": [0.0, 0.0, 0.0],
                        "mount_pose_rpy_rad_vec3_float": [0.0, 0.0, 0.0]
                      },

                      "chest_lidar": {
                        "device_type_enum": "LIDAR_SOLID_STATE",
                        "parent_frame_ref_str": "torso_base_link",
                        "mount_pose_xyz_m_vec3_float": [0.1, 0.0, -0.1],
                        "mount_pose_rpy_rad_vec3_float": [0.0, 0.0, 0.0],
                        "range_max_m_float": 12.0
                      },

                      "wifi_rf_module": {
                        "device_type_enum": "RF_TRANSCEIVER",
                        "parent_frame_ref_str": "torso_base_link",
                        "capabilities_map": {
                          "wifi_csi_sensing_bool": true,
                          "ble_sniffing_bool": true
                        }
                      }
                    },

                    // ==============================================================
                    // 6. ACTUATOR MOUNTING — PHYSICAL POSITION ONLY
                    // ==============================================================

                    "actuators_topology_map": {
                      "knee_right_actuator": {
                        "drives_joint_ref_str": "knee_joint_right",
                        "component_model_ref_str": "tmotor_ak80_9_v2",

                        // NO dynamics here. Only geometry and direction.
                        "mount_pose_xyz_m_vec3_float": [0.0, -0.02, -0.25],
                        "mount_pose_rpy_rad_vec3_float": [0.0, 0.0, 0.0],
                        "mechanical_reduction_ratio_float": 10.0,
                        "direction_polarity_int": -1
                      }
                    },

                    // ==============================================================
                    // 7. CAPABILITIES MANIFEST
                    // ==============================================================

                    "capabilities_manifest": {
                      "teleoperation_supported_bool": true,
                      "object_manipulation_bool": true,
                      "terrain_navigation_bool": true,
                      "human_safe_interaction_bool": false   // Ideal spec does not imply safety certification
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/firmware_mapping.jsonc",
                  "id": "firmware_mapping",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD v0.2 — REFERENCE IMPLEMENTATION
                   * ------------------------------------------------------------------
                   * FILE: firmware_mapping.jsonc
                   * CONTEXT: 01_FOUNDATION (The Body)
                   *
                   * PURPOSE:
                   * Defines the "firmware identity" of every physical module that contains
                   * executable code: MCUs, ESCs, IMUs, Cameras, Safety FPGAs, TTS units,
                   * sensor hubs, actuator drivers.
                   *
                   * WHY THIS FILE EXISTS:
                   *  - Guarantees reproducible behavior across multiple robot units.
                   *  - Ensures HAL/Actuation/Compute layers interact only with compatible FW.
                   *  - Enables OTA updates with rollback support.
                   *  - Allows LLM-based reasoning about capability-levels of hardware.
                   *
                   * INTERPRETATION FOR HUMANS:
                   *  Think of this as the robot’s “BIOS table” — listing every firmware chip,
                   *  its version, its hash, and what it is allowed to do.
                   *
                   * INTERPRETATION FOR LLMs:
                   *  Use this file to determine:
                   *    - Which commands the hardware supports
                   *    - Which safety guarantees firmware provides
                   *    - Whether a module is compatible with the HAL driver
                   *    - If a firmware update is safe or requires immobilization
                   *
                   * EXTENSIBILITY:
                   *  Developers can add:
                   *    - New firmware families under `firmware_catalog_map`
                   *    - New robot-specific bindings under `device_firmware_map`
                   *    - New APIs and capabilities using semantic descriptors
                   */

                  {
                    "meta_group": {
                      "firmware_spec_version_str": "0.2.0",
                      "last_updated_iso8601_str": "2025-11-23T17:40:00Z",
                      "stewardship_org_str": "OpenRGD Consortium",
                      "compatibility_policy_enum": "STRICT_SEMVER"  // Prevent silent breaking changes
                    },

                    // ==============================================================
                    // 1. FIRMWARE CATALOG (Global Library)
                    // Central registry of every firmware *type* supported by OpenRGD.
                    // Developers extend this map when adding new devices or drivers.
                    // ==============================================================

                    "firmware_catalog_map": {

                      // ------------------------------------------------------------
                      // MOTOR DRIVER FIRMWARE (Brushless ESC / Integrated Actuator)
                      // ------------------------------------------------------------
                      "tmotor_ak80_series_firmware_v3": {
                        "device_class_enum": "ACTUATOR_ESC",
                        "manufacturer_str": "T-Motor",
                        "supported_hardware_models_list_str": [
                          "AK80-9_v2",
                          "AK60-6_v1"
                        ],

                        "api_semantic_level_str": "MOTOR_API_LEVEL_2", 
                        // LEVEL_1 = basic current control
                        // LEVEL_2 = pos/vel/torque control + diagnostic frames
                        // LEVEL_3 = low-level FOC tuning access (risky)

                        "firmware_version_semver_str": "3.1.0",
                        "firmware_sha256_str": "sha256:8f223a...f9a1c9",

                        "capabilities": {
                          "supports_torque_control_bool": true,
                          "supports_position_control_bool": true,
                          "supports_velocity_control_bool": true,
                          "supports_temperature_stream_bool": true,
                          "supports_joint_impedance_mode_bool": false
                        },

                        "safety_invariants": {
                          "max_allowed_torque_nm_float": 60.0, // Firmware-locked cap
                          "overtemp_shutdown_c_float": 105.0,
                          "watchdog_period_ms_int": 20
                        },

                        "update_policy": {
                          "supports_ota_bool": true,
                          "requires_robot_immobilization_bool": true,
                          "rollback_on_failure_bool": true
                        }
                      },

                      // ------------------------------------------------------------
                      // MICROCONTROLLER FIRMWARE (Torso / Reflex / CAN Coordinator)
                      // ------------------------------------------------------------
                      "stm32h7_reflex_firmware_v5": {
                        "device_class_enum": "MCU_REALTIME",
                        "manufacturer_str": "STMicroelectronics",
                        "hardware_model_str": "STM32H743",

                        "api_semantic_level_str": "REFLEX_API_LEVEL_3",
                        // Reflex API Level 3: supports reflex maps, timed triggers,
                        // low-level gait safety, and CAN arbitration.

                        "firmware_version_semver_str": "5.4.2",
                        "firmware_sha256_str": "sha256:993cd4...7cf20e",

                        "capabilities": {
                          "supports_estop_bool": true,
                          "supports_realtime_gait_safety_bool": true,
                          "supports_low_latency_can_routing_bool": true,
                          "max_control_loop_freq_hz_int": 20000
                        },

                        "safety_invariants": {
                          "sil_level_enum": "SIL3",
                          "dual_channel_lockstep_required_bool": true,
                          "latency_budget_us_int": 1000
                        },

                        "update_policy": {
                          "supports_ota_bool": false, // Flash via STLink only
                          "requires_robot_immobilization_bool": true,
                          "rollback_on_failure_bool": false
                        }
                      },

                      // ------------------------------------------------------------
                      // CAMERA FIRMWARE (ISP / Auto Exposure / Sensor Timings)
                      // ------------------------------------------------------------
                      "sony_imx219_isp_fw_v2": {
                        "device_class_enum": "VISION_SENSOR",
                        "manufacturer_str": "Sony",
                        "hardware_model_str": "IMX219",

                        "api_semantic_level_str": "CAMERA_API_LEVEL_1",
                        // LEVEL_1: AE/AGC control
                        // LEVEL_2: Multi-exposure HDR streams
                        // LEVEL_3: Custom sensor timing programming

                        "firmware_version_semver_str": "2.0.1",
                        "firmware_sha256_str": "sha256:bd8ef1...cc14e7",

                        "capabilities": {
                          "supports_auto_exposure_bool": true,
                          "supports_auto_gain_bool": true,
                          "supports_multiframe_hdr_bool": false
                        },

                        "safety_invariants": {
                          "max_temperature_c_float": 90.0
                        },

                        "update_policy": {
                          "supports_ota_bool": false,
                          "requires_robot_immobilization_bool": false
                        }
                      }
                    },

                    // ==============================================================
                    // 2. DEVICE → FIRMWARE BINDINGS (Robot-specific)
                    // This is where *our robot instance* declares exactly which
                    // firmware each physical component is running.
                    // ==============================================================

                    "device_firmware_map": {

                      // ------------------------------------------------------------
                      // LEG ACTUATORS
                      // ------------------------------------------------------------
                      "knee_right_actuator": {
                        "firmware_ref_str": "tmotor_ak80_series_firmware_v3",
                        "hardware_uid_str": "AK80-RIGHT-KNEE-0017", // physical serial
                        "last_verified_iso8601_str": "2025-11-23T10:02:00Z",
                        "compatibility_status_enum": "COMPATIBLE"
                      },

                      "hip_pitch_right_actuator": {
                        "firmware_ref_str": "tmotor_ak80_series_firmware_v3",
                        "hardware_uid_str": "AK80-RIGHT-HIP-0021",
                        "compatibility_status_enum": "COMPATIBLE"
                      },

                      // ------------------------------------------------------------
                      // REFLEX MCU
                      // ------------------------------------------------------------
                      "spinal_cord_mcu": {
                        "firmware_ref_str": "stm32h7_reflex_firmware_v5",
                        "hardware_uid_str": "STM32-REFLEX-0009",
                        "compatibility_status_enum": "CRITICAL_COMPONENT"
                      },

                      // ------------------------------------------------------------
                      // CAMERA MODULE
                      // ------------------------------------------------------------
                      "head_camera_main": {
                        "firmware_ref_str": "sony_imx219_isp_fw_v2",
                        "hardware_uid_str": "IMX219-HEADCAM-0032",
                        "compatibility_status_enum": "COMPATIBLE"
                      }
                    },

                    // ==============================================================
                    // 3. COMPATIBILITY GRAPH (Cross-check for HAL/Actuation)
                    // This ensures that no firmware contradicts HAL or Actuation topology.
                    // ==============================================================

                    "compatibility_graph": {
                      "enforce_semver_strict_bool": true,
                      "invalid_combinations_list": [
                        {
                          "device_class_enum": "ACTUATOR_ESC",
                          "api_semantic_level_str": "MOTOR_API_LEVEL_1",
                          "reason_str": "Level 1 cannot execute torque or impedance modes required by actuation_topology.jsonc"
                        }
                      ]
                    },

                    // ==============================================================
                    // 4. FIRMWARE UPDATE RULES (OTA, Rollback, Swarm Rules)
                    // ==============================================================

                    "update_rules": {
                      "allow_swarm_batch_update_bool": true,
                      "max_parallel_updates_int": 2,
                      "require_quorum_for_ota_bool": false, // No need for consensus_reality here
                      "signed_firmware_only_bool": true,
                      "allowed_signing_authorities_list_str": [
                        "Italia Robotica Root CA",
                        "OpenRGD Maintainers CA"
                      ]
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/hal_mapping.jsonc",
                  "id": "hal_mapping",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD - REFERENCE IMPLEMENTATION v0.1
                   * ------------------------------------------------------------------
                   * FILE: hal_mapping.jsonc
                   * CONTEXT: 01_FOUNDATION (The Body)
                   *
                   * PURPOSE:
                   * Hardware Abstraction Layer (HAL) connecting:
                   *   - Logical actuators/sensors  → physical communication drivers
                   *   - RGD communication → ROS2/DDS transport semantics
                   *   - Device nodes → firmware identities / capabilities
                   *   - `firmware_ref_str`: link to firmware_mapping.jsonc
                   *   - `hardware_uid_str`: physical unique ID of each module
                   *   - Structural alignment with actuator_topology.jsonc
                   *   - Fully explicit QoS bindings
                   */

                  {
                    "meta_group": {
                      "mapping_id_str": "bhl_ros2_hal_v3",
                      "version_semver_str": "1.3.0",
                      "last_updated_iso8601_str": "2025-11-23T18:05:00Z",
                      "interface_protocol_str": "ROS2_HUMBLE"
                    },

                    // ==============================================================
                    // 1. ACTUATOR DRIVERS (Kinematic Control Interfaces)
                    // ==============================================================

                    "actuator_drivers_map": {

                      // ------------------------------------------------------------
                      // RIGHT KNEE ACTUATOR — T-Motor AK80 series
                      // ------------------------------------------------------------
                      "knee_right_actuator": {
                        "logical_actuator_ref_str": "knee_right_actuator",

                        // Transport & addressing
                        "communication_protocol_enum": "CAN_BUS_FD",
                        "bus_interface_str": "can0",
                        "device_node_id_int": 12,
                        "baud_rate_mbps_float": 5.0,

                        // HAL driver plugin
                        "driver_plugin_str": "odrive_can_controller/ODriveCANInterface",

                        // Control interfaces supported by ROS2 control
                        "ros2_control_interface_list_enum": ["position", "velocity", "effort"],

                        // NEW — Firmware & physical identity
                        "firmware_ref_str": "tmotor_ak80_series_firmware_v3",
                        "hardware_uid_str": "AK80-RIGHT-KNEE-0017",

                        // Safety-critical commands → must be reliable
                        "qos_profile_ref_str": "profile_safety_command"
                      },

                      // ------------------------------------------------------------
                      // RIGHT ANKLE ACTUATOR — Dynamixel bus
                      // ------------------------------------------------------------
                      "ankle_pitch_right_actuator": {
                        "logical_actuator_ref_str": "ankle_pitch_right_actuator",

                        "communication_protocol_enum": "RS485_DYNAMIXEL",
                        "bus_interface_str": "/dev/ttyUSB0",
                        "device_node_id_int": 5,

                        "driver_plugin_str": "dynamixel_hardware_interface/DynamixelInterface",

                        // NEW — Firmware and UID
                        "firmware_ref_str": "tmotor_ak80_series_firmware_v3", // Same family
                        "hardware_uid_str": "AK80-ANKLE-0002",

                        "qos_profile_ref_str": "profile_safety_command"
                      }
                    },

                    // ==============================================================
                    // 2. SENSOR DRIVERS (Perception Input)
                    // ==============================================================

                    "sensor_drivers_map": {

                      // ------------------------------------------------------------
                      // MAIN HEAD CAMERA
                      // ------------------------------------------------------------
                      "head_camera_main": {
                        "logical_sensor_ref_str": "head_camera_main",
                        "communication_protocol_enum": "ROS2_TOPIC",
                        "data_type_str": "sensor_msgs/Image",
                        "update_frequency_hz_float": 30.0,
                        "stream_uri_str": "/camera/main/image_raw",

                        // NEW — Firmware & UID
                        "firmware_ref_str": "sony_imx219_isp_fw_v2",
                        "hardware_uid_str": "IMX219-HEADCAM-0032",

                        "qos_profile_ref_str": "profile_sensor_high_frequency"
                      },

                      // ------------------------------------------------------------
                      // TORSO IMU
                      // ------------------------------------------------------------
                      "torso_imu": {
                        "logical_sensor_ref_str": "torso_imu",
                        "communication_protocol_enum": "ROS2_TOPIC",
                        "data_type_str": "sensor_msgs/Imu",
                        "update_frequency_hz_float": 500.0,
                        "stream_uri_str": "/imu/data_raw",

                        // IMU typically has embedded firmware too
                        "firmware_ref_str": "imu_generic_fw_v1", // Developer-extendable
                        "hardware_uid_str": "IMU-TORSO-0014",

                        "qos_profile_ref_str": "profile_sensor_high_frequency"
                      },

                      // ------------------------------------------------------------
                      // WIFI RF MONITOR
                      // ------------------------------------------------------------
                      "wifi_rf_monitor": {
                        "logical_sensor_ref_str": "wifi_rf_monitor",
                        "communication_protocol_enum": "LOCAL_SOCKET",
                        "data_type_str": "rgd_msgs/RssiSignal",
                        "stream_uri_str": "/rgd/network/rssi_data",

                        // Simple firmware reference
                        "firmware_ref_str": "esp32_wifi_stack_fw_v4",
                        "hardware_uid_str": "ESP32-NET-8821",

                        "qos_profile_ref_str": "profile_logging_low_priority"
                      }
                    },

                    // ==============================================================
                    // 3. QoS PROFILES (ROS2/DDS)
                    // ==============================================================

                    "qos_profiles_map": {
                      "profile_sensor_high_frequency": {
                        "description_str": "High-rate, non-critical sensor data.",
                        "reliability_enum": "BEST_EFFORT",
                        "durability_enum": "VOLATILE",
                        "history_enum": "KEEP_LAST",
                        "depth_int": 5
                      },

                      "profile_safety_command": {
                        "description_str": "Critical motor commands (E-Stop, torque, position).",
                        "reliability_enum": "RELIABLE",
                        "durability_enum": "TRANSIENT_LOCAL",
                        "history_enum": "KEEP_LAST",
                        "depth_int": 1
                      },

                      "profile_logging_low_priority": {
                        "description_str": "Telemetry/logging with low delivery guarantees.",
                        "reliability_enum": "BEST_EFFORT",
                        "durability_enum": "VOLATILE",
                        "history_enum": "KEEP_LAST",
                        "depth_int": 20
                      }
                    },

                    // ==============================================================
                    // 4. HMI OUTPUT (LEDs, Buzzers, Haptic Devices)
                    // ==============================================================

                    "non_kinematic_actuators_map": {

                      "status_led_array": {
                        "logical_output_ref_str": "system_status_leds",
                        "communication_protocol_enum": "GPIO_SERIAL",
                        "driver_plugin_str": "gpio_led_interface/LEDManager",
                        "supported_states_list_str": [
                          "STANDBY_PULSE",
                          "ERROR_RED_SOLID",
                          "ACTIVE_GREEN_BREATH"
                        ],

                        // NEW — firmware binding
                        "firmware_ref_str": "generic_gpio_driver_fw_v1",
                        "hardware_uid_str": "GPIO-LED-1008"
                      },

                      "emergency_buzzer_speaker": {
                        "logical_output_ref_str": "safety_critical_buzzer",
                        "communication_protocol_enum": "PWM_SIGNAL",
                        "driver_plugin_str": "mcu_pwm_buzzer",
                        "supported_tones_list_str": [
                          "HIGH_PITCH_ALERT",
                          "LOW_BATTERY_BEPP"
                        ],

                        // NEW
                        "firmware_ref_str": "pwm_buzzer_fw_v1",
                        "hardware_uid_str": "BUZZER-PCM-3321"
                      }
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/physics_solver_overrides.jsonc",
                  "id": "physics_solver_overrides",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD v0.2 — REFERENCE IMPLEMENTATION
                   * ------------------------------------------------------------------
                   * FILE: physics_solver_overrides.jsonc
                   * CONTEXT: 01_FOUNDATION (THE BODY)
                   *
                   * PURPOSE:
                   *   Provides physics engine–specific overrides required to
                   *   achieve deterministic, solver-stable cross-engine behaviour.
                   *
                   * HUMAN INTERPRETATION:
                   *   This file is the "adapter" that forces different simulation
                   *   engines (MuJoCo / PhysX / Isaac / Bullet / ODE) to behave as
                   *   similarly as possible at the contact/joint level.
                   *
                   * LLM INTERPRETATION:
                   *   - DO NOT invent new engines or parameters.
                   *   - Apply overrides ONLY by modifying values defined here.
                   *   - Treat description.jsonc as the ideal model, and this file as
                   *     solver-specific correction required at runtime.
                   */

                  {
                    // ==============================================================
                    // 0. METADATA
                    // ==============================================================

                    "meta_group": {
                      "profile_id_str": "solver_alignment_v2",
                      "required_rgd_version_str": "0.2.0",
                      "last_updated_iso8601_str": "2025-11-23T18:00:00Z",

                      "related_files_map": {
                        "description_ref_str": "01_foundation/description.jsonc",
                        "calibration_ref_str": "01_foundation/calibration.jsonc",
                        "actuation_dynamics_ref_str": "01_foundation/actuation_dynamics.jsonc"
                      }
                    },

                    // ==============================================================
                    // 1. MUJOCO 3.x — MASS/INERTIA/CONTACT OVERRIDES
                    // ==============================================================

                    "mujoco_solver_map": {
                      "general_defaults": {
                        "time_step_s_float": 0.002,
                        "solver_iterations_int": 50,
                        "enable_warmstart_bool": true
                      },

                      "contact_config": {
                        "solref_damping_float": 0.02,
                        "solref_stiffness_float": 1.0,
                        "solimp_tolerance_float": 0.001,
                        "friction_model_enum": "PYRAMIDAL"
                      },

                      "material_friction_overrides_map": {
                        "rubber_foot":   { "mu_static_float": 1.0, "mu_dynamic_float": 0.8 },
                        "plastic_shell": { "mu_static_float": 0.4, "mu_dynamic_float": 0.3 }
                      }
                    },

                    // ==============================================================
                    // 2. PHYSX 5.x — BASELINE (USED BY ALL PHYSX-BASED ENGINES)
                    // ==============================================================

                    "physx_solver_map": {
                      "general_defaults": {
                        "simulation_type_enum": "GPU_BASED_PBD",
                        "enable_ccd_bool": true,
                        "enable_gpu_determinism_bool": true
                      },

                      "collision_config": {
                        "contact_offset_m_float": 0.005,
                        "rest_offset_m_float": 0.001,
                        "max_depenetration_velocity_m_s_float": 1.0,
                        "enable_enhanced_determinism_bool": true
                      },

                      "joint_projection": {
                        "projection_tolerance_m_float": 0.01,
                        "projection_angle_rad_float": 0.05
                      },

                      "soft_body_solver_config": {
                        "solver_iterations_int": 20,
                        "max_gpu_memory_gb_float": 4.0,
                        "volume_conservation_bool": true
                      }
                    },

                    // ==============================================================
                    // 2b. ISAAC 4.x SPECIFIC OVERRIDES
                    // ==============================================================

                    "isaac_4x_solver_map": {
                      "engine_id_enum": "ISAAC_SIM_4_X",

                      "general_overrides": {
                        "use_gpu_pipeline_bool": true,
                        "enable_stabilization_bool": true,
                        "substeps_int": 2
                      },

                      "collision_overrides": {
                        "contact_offset_m_float": 0.007,   // un filo più alto per ridurre jitter
                        "rest_offset_m_float": 0.0005,
                        "max_depenetration_velocity_m_s_float": 0.7
                      },

                      "joint_overrides": {
                        "projection_tolerance_m_float": 0.008,
                        "projection_angle_rad_float": 0.04,
                        "enable_joint_stabilization_bool": true
                      },

                      "profiling_hints": {
                        "recommended_timestep_s_float": 0.002,
                        "recommended_solver_iterations_int": 8,
                        "note_str": "For bipedal robots in Isaac 4.x, use 2 substeps and 8+ iterations to minimize knee jitter."
                      }
                    },

                    // ==============================================================
                    // 2c. ISAAC 5.x / ISAAC LAB 5.x SPECIFIC OVERRIDES
                    // ==============================================================

                    "isaac_5x_solver_map": {
                      "engine_id_enum": "ISAAC_SIM_5_X",

                      "general_overrides": {
                        "use_gpu_pipeline_bool": true,
                        "enable_stabilization_bool": true,
                        "substeps_int": 1,              // pipeline 5.x di solito più stabile di 4.x
                        "enable_async_streams_bool": true
                      },

                      "collision_overrides": {
                        "contact_offset_m_float": 0.005,
                        "rest_offset_m_float": 0.0005,
                        "max_depenetration_velocity_m_s_float": 1.0
                      },

                      "joint_overrides": {
                        "projection_tolerance_m_float": 0.008,
                        "projection_angle_rad_float": 0.04,
                        "enable_joint_stabilization_bool": true
                      },

                      "profiling_hints": {
                        "recommended_timestep_s_float": 0.002,
                        "recommended_solver_iterations_int": 6,
                        "note_str": "Isaac 5.x GPU pipeline is generally more stable; prefer fewer substeps and tune iterations per scenario."
                      }
                    },

                    // ==============================================================
                    // 3. BULLET 3.x OVERRIDES
                    // ==============================================================

                    "bullet_solver_map": {
                      "general_defaults": {
                        "erp_float": 0.2,
                        "cfm_float": 0.001
                      },
                      "contact_config": {
                        "friction_direction_iterations_int": 10
                      }
                    },

                    // ==============================================================
                    // 4. ODE LEGACY SUPPORT
                    // ==============================================================

                    "ode_solver_map": {
                      "global_parameters": {
                        "erp_float": 0.2,
                        "cfm_float": 1e-5
                      }
                    },

                    // ==============================================================
                    // 5. ENGINE NEGOTIATION LAYER
                    // ==============================================================

                    "engine_negotiation_protocol": {
                      "required_capabilities_list_enum": [
                        "STABLE_CONTACTS",
                        "WARMSTARTING",
                        "JOINT_LIMITS",
                        "FIRM_SOLVER_ITERATIONS"
                      ],
                      "fallback_strategy_enum": "USE_CLOSEST_ENGINE_BEHAVIOR",
                      "unsupported_feature_behaviour_enum": "WARN_AND_CLAMP"
                    },

                    // ==============================================================
                    // 6. UNIT & COORDINATE NORMALIZATION
                    // ==============================================================

                    "external_unit_conversions": {
                      "ros2_compatibility": {
                        "joint_limits_in_radians_bool": true,
                        "base_frame_convention_enum": "X_FORWARD_Z_UP"
                      },
                      "fallback_angular_unit_enum": "RADIANS",
                      "fallback_linear_unit_enum": "METERS"
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/power_distribution.jsonc",
                  "id": "power_distribution",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD v0.2 — REFERENCE IMPLEMENTATION
                   * ------------------------------------------------------------------
                   * FILE: power_distribution.jsonc
                   * CONTEXT: 01_FOUNDATION (THE BODY)
                   *
                   * PURPOSE:
                   *   Defines the robot’s full electrical physiology: energy sources,
                   *   voltage rails, distribution logic, protection layers, and
                   *   regenerative/charging mechanisms.
                   *
                   * HUMAN INTERPRETATION:
                   *   Think of this as the "circulatory system": heart (battery),
                   *   arteries (power rails), immune system (protection), metabolism
                   *   (regeneration & charging).
                   *
                   * LLM INTERPRETATION:
                   *   - DO NOT invent new voltage rails unless explicitly added here.
                   *   - ALWAYS refer to rails via `*_rail_ref_str` when used in other
                   *     files (e.g., actuation_topology, compute_topology).
                   *   - Treat this file as the canonical source for electrical limits.
                   */

                  {
                    // ==============================================================
                    // 0. METADATA
                    // ==============================================================

                    "meta_group": {
                      "power_architecture_id_str": "bhl_power_stack_v2",
                      "version_semver_str": "1.2.0",
                      "last_updated_iso8601_str": "2025-11-23T18:20:00Z",

                      "related_files_map": {
                        "compute_topology_ref_str": "01_foundation/compute_topology.jsonc",
                        "actuation_topology_ref_str": "01_foundation/actuation_topology.jsonc",
                        "safety_critical_ref_str": "04_volition/safety_critical.jsonc",
                        "ledger_ref_str": "04_volition/ledger.jsonc"
                      }
                    },

                    // ==============================================================
                    // 1. ENERGY SOURCE (Primary Battery Pack - The Heart)
                    // ==============================================================

                    "primary_energy_source": {
                      "battery_model_str": "Custom_LiPo_12S",
                      "chemistry_enum": "LITHIUM_POLYMER",

                      // Energy Capacity
                      "capacity_wh_float": 500.0,
                      "nominal_voltage_v_float": 44.4,
                      "max_discharge_current_a_float": 100.0,

                      // Electrical properties
                      "internal_resistance_ohm_float": 0.005,
                      "temp_limit_c_float": 55.0,

                      // Smart BMS
                      "bms_spec": {
                        "supports_cell_balancing_bool": true,
                        "balancing_algorithm_enum": "DELTA_V_ACTIVE",
                        "cell_count_int": 12,
                        "telemetry_update_rate_hz_float": 5.0,
                        "communication_protocol_enum": "CAN_BUS_FD"
                      }
                    },

                    // ==============================================================
                    // 2. VOLTAGE RAILS (Distribution Network)
                    // ==============================================================

                    "voltage_rails_map": {

                      // --- Motor Power ---
                      "motor_actuation_rail": {
                        "voltage_v_float": 48.0,
                        "priority_enum": "HIGH",
                        "max_current_a_float": 120.0,

                        "powered_components_list_str": [
                          "leg_actuator_group",
                          "arm_actuator_group"
                        ]
                      },

                      // --- High Priority Logic ---
                      "logic_sensor_rail": {
                        "voltage_v_float": 12.0,
                        "priority_enum": "CRITICAL",
                        "max_current_a_float": 20.0,

                        "powered_components_list_str": [
                          "main_brain_unit",
                          "spinal_cord_mcu",
                          "perception_sensors"
                        ]
                      },

                      // --- Low-Power Microcontrollers & HMI ---
                      "low_power_logic_rail": {
                        "voltage_v_float": 5.0,
                        "priority_enum": "CRITICAL",
                        "powered_components_list_str": [
                          "tts_driver",
                          "status_led_array",
                          "rf_modems"
                        ]
                      }
                    },

                    // ==============================================================
                    // 3. RAIL ROUTING LOGIC (Current Budgeting & Prioritization)
                    // ==============================================================

                    "rail_routing_policy": {
                      "brownout_priority_order_list_enum": [
                        "low_power_logic_rail",
                        "logic_sensor_rail",
                        "motor_actuation_rail"
                      ],

                      // Prevents Agency layer from exceeding electrical limits
                      "load_shedding_rules": {
                        "max_total_current_a_float": 140.0,
                        "shed_strategy_enum": "DISABLE_NONESSENTIAL_ACTUATORS",
                        "shutdown_threshold_voltage_v_float": 40.0
                      }
                    },

                    // ==============================================================
                    // 4. PROTECTION SYSTEM (Fuses, Cutoffs, Thermal & Overload Safety)
                    // ==============================================================

                    "protection_config": {
                      "system_fuse_rating_a_float": 120.0,

                      // System-level cutoff
                      "software_shutdown_voltage_v_float": 40.0,

                      "thermal_monitoring_map": {
                        "sensors_list_str": [
                          "battery_pack_center",
                          "power_bus_main",
                          "motor_controller_group"
                        ],
                        "update_rate_hz_float": 10.0
                      },

                      "fault_response_policies": {
                        "overcurrent_response_enum": "GRACEFUL_SHUTDOWN",
                        "overtemp_response_enum": "THROTTLE_AND_COOL",
                        "bms_fault_enum": "IMMEDIATE_CUTOFF"
                      }
                    },

                    // ==============================================================
                    // 5. REGENERATION & CHARGING SYSTEM
                    // ==============================================================

                    "regeneration_spec": {
                      "regenerative_braking_efficiency_pct_float": 0.15,
                      "regen_enabled_bool": true,

                      "regen_safety_limits": {
                        "max_regen_current_a_float": 20.0,
                        "min_battery_temperature_c_float": 5.0,
                        "max_battery_voltage_v_float": 50.4 // 12S fully charged
                      }
                    },

                    "charging_spec": {
                      "charging_protocol_enum": "SMART_BMS",
                      "max_charge_rate_w_float": 500.0,

                      "supported_charging_methods_map": {
                        "direct_dc_fast_charge": {
                          "supported_bool": true,
                          "max_voltage_v_float": 50.4,
                          "max_current_a_float": 12.0
                        },
                        "wireless_inductive_charge": {
                          "supported_bool": true,
                          "max_power_w_float": 100.0,
                          "alignment_tolerance_cm_float": 5.0
                        }
                      }
                    },

                    // ==============================================================
                    // 6. POWER-INTROSPECTION & TELEMETRY (For LLM + Kernel)
                    // ==============================================================

                    "power_introspection": {
                      "telemetry_stream_uri_str": "/rgd/power/telemetry",
                      "telemetry_update_rate_hz_float": 10.0,
                      "exposed_metrics_list_str": [
                        "battery_soc_pct",
                        "battery_voltage_v",
                        "rail_currents_a",
                        "rail_status_flags",
                        "thermal_warnings"
                      ]
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/sensor_fidelity.jsonc",
                  "id": "sensor_fidelity",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD v0.2 — REFERENCE IMPLEMENTATION
                   * ------------------------------------------------------------------
                   * FILE: sensor_fidelity.jsonc
                   * CONTEXT: 01_FOUNDATION (THE BODY — SENSOR REALISM)
                   *
                   * PURPOSE:
                   *   Defines the probabilistic error profiles and domain randomization
                   *   settings for all sensors. This file is critical for closing the
                   *   Sim-to-Real gap by training policies on realistic, noisy, and
                   *   imperfect data.
                   *
                   * HUMAN INTERPRETATION:
                   *   description.jsonc = ideal, perfect sensors.
                   *   sensor_fidelity.jsonc = how sensors actually lie, drift, glitch
                   *   and fail — deliberately, inside simulation.
                   *
                   * LLM INTERPRETATION:
                   *   - Do NOT invent new sensors here. Each key in
                   *     `sensor_error_profiles_map` MUST match an ID in
                   *     description.jsonc → sensors_mounting_map.
                   *   - Distinguish between:
                   *       * noise_*          → random fluctuations
                   *       * bias_*           → systematic offsets
                   *       * fault_injection  → intermittent or permanent failures
                   *   - Domain randomization ranges must stay within physically-plausible
                   *     bounds, never violating safety_critical.jsonc.
                   */

                  {
                    // ==============================================================
                    // 0. METADATA
                    // ==============================================================

                    "meta_group": {
                      "fidelity_profile_id_str": "high_fidelity_v2",
                      "version_semver_str": "1.2.0",
                      "last_updated_iso8601_str": "2025-11-23T18:40:00Z",

                      // Multiple simulators can consume this profile.
                      "target_simulators_list_enum": [
                        "ISAAC_LAB_RTX_5_X",
                        "ISAAC_SIM_4_X",
                        "MUJOCO_3_X"
                      ],

                      "related_files_map": {
                        "description_ref_str": "01_foundation/description.jsonc",
                        "calibration_ref_str": "01_foundation/calibration.jsonc",
                        "hal_mapping_ref_str": "01_foundation/hal_mapping.jsonc",
                        "runtime_validation_ref_str": "01_foundation/runtime_validation.jsonc"
                      }
                    },

                    // ==============================================================
                    // 1. GLOBAL DOMAIN RANDOMIZATION POLICY
                    // ==============================================================

                    "domain_randomization_policy": {
                      "enabled_bool": true,

                      // Training vs Evaluation
                      "contexts_map": {
                        "train": {
                          "noise_scale_multiplier_float": 1.0,   // full noise
                          "enable_fault_injection_bool": true
                        },
                        "eval": {
                          "noise_scale_multiplier_float": 0.5,   // milder noise
                          "enable_fault_injection_bool": false   // no random hard faults
                        }
                      }
                    },

                    // ==============================================================
                    // 2. SENSOR-SPECIFIC ERROR PROFILES
                    //    Keys MUST match sensors_mounting_map in description.jsonc
                    // ==============================================================

                    "sensor_error_profiles_map": {

                      // ------------------------------------------------------------
                      // 2.1. VISION (RGBD HEAD CAMERA)
                      // ------------------------------------------------------------
                      "head_camera_main": {
                        "type_enum": "CAMERA_RGBD",

                        // --- RGB NOISE MODEL ---
                        "noise_model_rgb_enum": "POISSON_GAUSSIAN",

                        "parameters_rgb": {
                          "noise_std_dev_float": 0.005,                // pixel noise
                          "rolling_shutter_enabled_bool": true,
                          "motion_blur_shutter_s_float": 0.01          // exposure time
                        },

                        // --- DEPTH NOISE MODEL ---
                        "noise_model_depth_enum": "GAUSSIAN",

                        "parameters_depth": {
                          "range_noise_m_float": 0.01,                 // 1 cm random error
                          "ir_dropout_rate_pct_float": 0.15            // IR ray failure probability
                        },

                        // --- SYSTEMATIC BIAS (THERMAL / OPTICAL) ---
                        "bias_systematic": {
                          "thermal_drift_per_c_m_float": 0.0001        // 0.1 mm per °C
                        },

                        // --- FAULT INJECTION ---
                        "fault_injection": {
                          "permanent_failure_rate_per_hour_float": 0.00001,
                          "temporary_glitch_rate_per_min_float": 0.01,
                          "glitch_duration_s_float": 0.5
                        },

                        // --- DOMAIN RANDOMIZATION BOUNDS ---
                        "randomization_bounds": {
                          "noise_std_dev_float_range": [0.003, 0.01],
                          "range_noise_m_float_range": [0.005, 0.02],
                          "ir_dropout_rate_pct_float_range": [0.05, 0.25]
                        }
                      },

                      // ------------------------------------------------------------
                      // 2.2. VESTIBULAR (TORSO IMU)
                      // ------------------------------------------------------------
                      "torso_imu": {
                        "type_enum": "IMU_6DOF",

                        // --- GYRO / ACCEL NOISE ---
                        "noise_model_gyro_enum": "WHITE_NOISE_RANDOM_WALK",

                        "parameters_gyro": {
                          "angular_rate_std_dev_rad_s_float": 0.005,
                          "bias_random_walk_rad_s_sqrt_float": 0.0001
                        },

                        // Potential accel model (future extension)
                        "parameters_accel": {
                          "accel_std_dev_m_s2_float": 0.02,
                          "bias_random_walk_m_s2_sqrt_float": 0.0005
                        },

                        // --- CROSS-MODAL INTERFERENCE ---
                        "cross_modal_bias": {
                          "motor_coupling_max_rad_s_float": 0.008,
                          "coupling_source_str": "actuator_motor_noise_bus"
                        },

                        "randomization_bounds": {
                          "angular_rate_std_dev_rad_s_range": [0.003, 0.01],
                          "accel_std_dev_m_s2_range": [0.01, 0.05]
                        }
                      },

                      // ------------------------------------------------------------
                      // 2.3. CONTACT & FORCE / TORQUE (WRIST F/T SENSOR)
                      // ------------------------------------------------------------
                      "right_wrist_ft": {
                        "type_enum": "FORCE_TORQUE_6DOF",
                        "noise_model_enum": "QUANTIZATION_NOISE",

                        "parameters": {
                          "zero_offset_drift_n_per_c_float": 0.01,
                          "quantization_bits_int": 16
                        },

                        "bias_systematic": {
                          "pre_load_offset_n_float": 5.0,
                          "pre_load_drift_per_c_float": 0.002
                        },

                        "randomization_bounds": {
                          "pre_load_offset_n_float_range": [2.0, 8.0],
                          "zero_offset_drift_n_per_c_range": [0.005, 0.02]
                        }
                      },

                      // ------------------------------------------------------------
                      // 2.4. RANGE SENSOR (CHEST LIDAR)
                      // ------------------------------------------------------------
                      "chest_lidar": {
                        "type_enum": "LIDAR_2D_SOLID_STATE",
                        "noise_model_enum": "UNIFORM_GAUSSIAN",

                        "parameters": {
                          "range_noise_m_float": 0.005,
                          "max_range_error_threshold_m_float": 0.05,
                          "max_angular_jitter_rad_float": 0.001
                        },

                        "performance_degradation": {
                          "intensity_scaling_loss_pct_float": 0.1,
                          "low_reflectivity_dropout_rate_pct_float": 0.25
                        },

                        "randomization_bounds": {
                          "range_noise_m_float_range": [0.003, 0.015],
                          "low_reflectivity_dropout_rate_pct_float_range": [0.15, 0.35]
                        }
                      }
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/sensor_health_monitor.jsonc",
                  "id": "sensor_health_monitor",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD v0.2 — REFERENCE IMPLEMENTATION
                   * ------------------------------------------------------------------
                   * FILE: sensor_health_monitor.jsonc
                   * CONTEXT: 01_FOUNDATION (THE BODY — SENSOR HEALTH)
                   *
                   * PURPOSE:
                   *   Defines health states, thresholds, and failover policies for
                   *   all critical sensors. It acts as the "vital signs" monitor
                   *   for perception and proprioception.
                   *
                   * HUMAN INTERPRETATION:
                   *   - sensor_fidelity.jsonc  = how sensors are noisy/imperfect in sim
                   *   - calibration.jsonc      = how a specific unit deviates from ideal
                   *   - sensor_health_monitor  = when a sensor is HEALTHY, DEGRADED,
                   *                              or FAILED and what the system must do.
                   *
                   * LLM INTERPRETATION:
                   *   - DO NOT invent new health states. Use the ones defined in
                   *     `health_state_definitions`.
                   *   - Keys in `sensor_health_policies_map` MUST match sensors from
                   *     description.jsonc → sensors_mounting_map.
                   *   - This file defines policy and thresholds, not live readings.
                   */

                  {
                    // ==============================================================
                    // 0. METADATA
                    // ==============================================================

                    "meta_group": {
                      "health_profile_id_str": "default_sensor_health_v1",
                      "version_semver_str": "1.0.0",
                      "last_updated_iso8601_str": "2025-11-23T19:00:00Z",

                      "related_files_map": {
                        "description_ref_str": "01_foundation/description.jsonc",
                        "sensor_fidelity_ref_str": "01_foundation/sensor_fidelity.jsonc",
                        "runtime_validation_ref_str": "01_foundation/runtime_validation.jsonc",
                        "safety_critical_ref_str": "04_volition/safety_critical.jsonc"
                      }
                    },

                    // ==============================================================
                    // 1. HEALTH STATE DEFINITIONS (GLOBAL)
                    // ==============================================================

                    "health_state_definitions": {
                      "HEALTHY": {
                        "description_str": "Sensor operating within expected noise and bias bounds.",
                        "allowed_for_control_bool": true,
                        "allowed_for_mapping_bool": true
                      },

                      "DEGRADED": {
                        "description_str": "Sensor data is noisy or biased but still usable with caution.",
                        "allowed_for_control_bool": false,
                        "allowed_for_mapping_bool": true
                      },

                      "FAILED": {
                        "description_str": "Sensor is considered unreliable; its data MUST NOT be used.",
                        "allowed_for_control_bool": false,
                        "allowed_for_mapping_bool": false
                      }
                    },

                    // ==============================================================
                    // 2. SENSOR-SPECIFIC HEALTH POLICIES
                    //    Keys MUST match sensor IDs in description.jsonc
                    // ==============================================================

                    "sensor_health_policies_map": {

                      // ------------------------------------------------------------
                      // 2.1 HEAD RGBD CAMERA
                      // ------------------------------------------------------------
                      "head_camera_main": {
                        "sensor_type_enum": "CAMERA_RGBD",

                        // ---- BASIC HEALTH CHECKS ----
                        "basic_checks": {
                          "no_data_timeout_s_float": 0.5,             // if no frames for 0.5 s → at least DEGRADED
                          "max_nan_ratio_pct_float": 10.0,            // if >10% NaN pixels in depth → DEGRADED
                          "hard_fault_nan_ratio_pct_float": 40.0      // if >40% NaN → FAILED
                        },

                        // ---- CONSISTENCY CHECKS ----
                        "consistency_checks": {
                          "max_frame_drop_rate_pct_float": 20.0,      // over sliding window
                          "max_timestamp_jitter_ms_float": 30.0       // irregular timestamps
                        },

                        // ---- THERMAL & BIAS DRIFT THRESHOLDS ----
                        "drift_checks": {
                          // If estimated extrinsic drift (via calibration tracker) exceeds:
                          "max_pose_drift_m_float": 0.01,             // 1 cm extrinsic drift
                          "max_pose_drift_rad_float": 0.01,           // ~0.57 deg
                          "max_brightness_shift_pct_float": 25.0      // large global brightness shift = possible lens obstruction
                        },

                        // ---- HEALTH TRANSITION RULES ----
                        "health_transition_rules": {
                          "to_degraded_conditions": [
                            "no_data_timeout_s > 0.5",
                            "nan_ratio_pct > max_nan_ratio_pct_float",
                            "frame_drop_rate_pct > max_frame_drop_rate_pct_float"
                          ],
                          "to_failed_conditions": [
                            "nan_ratio_pct > hard_fault_nan_ratio_pct_float",
                            "camera_link_lost_bool == true"
                          ]
                        },

                        // ---- FAILOVER POLICY ----
                        "failover_policy": {
                          "on_degraded_enum": "USE_SENSOR_WITH_WEIGHTED_CONFIDENCE",
                          "on_failed_enum": "DISABLE_VISION_FOR_CONTROL_USE_FUSION_ONLY",
                          "notify_channels_list_str": [
                            "04_volition/ledger.jsonc",
                            "06_ether/consensus_reality.jsonc"
                          ]
                        }
                      },

                      // ------------------------------------------------------------
                      // 2.2 TORSO IMU
                      // ------------------------------------------------------------
                      "torso_imu": {
                        "sensor_type_enum": "IMU_6DOF",

                        "basic_checks": {
                          "no_data_timeout_s_float": 0.1,
                          "max_nan_ratio_pct_float": 1.0
                        },

                        "consistency_checks": {
                          "max_gyro_bias_rad_s_float": 0.05,          // estimated via online calibration
                          "max_accel_bias_m_s2_float": 0.3,
                          "max_variance_deviation_factor_float": 3.0  // variance > 3x expected → DEGRADED
                        },

                        "health_transition_rules": {
                          "to_degraded_conditions": [
                            "variance_factor > max_variance_deviation_factor_float",
                            "gyro_bias_rad_s > max_gyro_bias_rad_s_float"
                          ],
                          "to_failed_conditions": [
                            "no_data_timeout_s > 0.1",
                            "nan_ratio_pct > max_nan_ratio_pct_float * 5.0"
                          ]
                        },

                        "failover_policy": {
                          "on_degraded_enum": "FALLBACK_TO_FUSED_STATE_ESTIMATOR", // e.g. leg odometry + vision
                          "on_failed_enum": "ENTER_SAFE_BALANCE_MODE",
                          "notify_channels_list_str": [
                            "04_volition/safety_critical.jsonc"
                          ]
                        }
                      },

                      // ------------------------------------------------------------
                      // 2.3 RIGHT WRIST FORCE/TORQUE
                      // ------------------------------------------------------------
                      "right_wrist_ft": {
                        "sensor_type_enum": "FORCE_TORQUE_6DOF",

                        "basic_checks": {
                          "no_data_timeout_s_float": 0.2,
                          "max_nan_ratio_pct_float": 1.0
                        },

                        "consistency_checks": {
                          "max_preload_offset_n_float": 10.0,         // if zero force ≫ expected preload
                          "max_noise_std_dev_n_float": 5.0            // very noisy → suspicious contact or damage
                        },

                        "health_transition_rules": {
                          "to_degraded_conditions": [
                            "preload_offset_n > max_preload_offset_n_float",
                            "noise_std_dev_n > max_noise_std_dev_n_float"
                          ],
                          "to_failed_conditions": [
                            "no_data_timeout_s > 0.2",
                            "nan_ratio_pct > max_nan_ratio_pct_float * 3.0"
                          ]
                        },

                        "failover_policy": {
                          "on_degraded_enum": "LIMIT_CONTACT_FORCE_AND_SLOW_MOTION",
                          "on_failed_enum": "DISABLE_FORCE_CONTROL_USE_POSITION_ONLY",
                          "notify_channels_list_str": [
                            "04_volition/safety_critical.jsonc",
                            "04_volition/ledger.jsonc"
                          ]
                        }
                      },

                      // ------------------------------------------------------------
                      // 2.4 CHEST LIDAR
                      // ------------------------------------------------------------
                      "chest_lidar": {
                        "sensor_type_enum": "LIDAR_2D_SOLID_STATE",

                        "basic_checks": {
                          "no_data_timeout_s_float": 0.2,
                          "max_nan_ratio_pct_float": 5.0
                        },

                        "consistency_checks": {
                          "max_range_noise_m_float": 0.03,
                          "min_effective_points_ratio_pct_float": 40.0   // at least 40% valid returns
                        },

                        "health_transition_rules": {
                          "to_degraded_conditions": [
                            "range_noise_m > max_range_noise_m_float",
                            "effective_points_ratio_pct < min_effective_points_ratio_pct_float"
                          ],
                          "to_failed_conditions": [
                            "no_data_timeout_s > 0.2",
                            "nan_ratio_pct > max_nan_ratio_pct_float * 4.0"
                          ]
                        },

                        "failover_policy": {
                          "on_degraded_enum": "REDUCE_SPEED_AND_INCREASE_CLEARANCE",
                          "on_failed_enum": "STOP_LOCOMOTION_IF_NO_ALTERNATIVE_SENSORS",
                          "notify_channels_list_str": [
                            "06_ether/consensus_reality.jsonc"
                          ]
                        }
                      }
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/soft_body_dynamics.jsonc",
                  "id": "soft_body_dynamics",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD v0.2 - REFERENCE IMPLEMENTATION
                   * ------------------------------------------------------------------
                   * FILE: soft_body_dynamics.jsonc
                   * CONTEXT: 01_FOUNDATION (THE BODY — SOFT & SMART TISSUES)
                   *
                   * PURPOSE:
                   *   Defines the parameters for non-rigid components and advanced
                   *   smart materials (soft grippers, self-healing skin, fluidic
                   *   muscles). This file augments the rigid embodiment with
                   *   deformable structures and active materials.
                   *
                   * HUMAN INTERPRETATION:
                   *   Rigid links and joints define the skeleton.
                   *   This file defines the flesh: pads, skin, and soft muscles.
                   *
                   * LLM INTERPRETATION:
                   *   - DO NOT invent new components. Keys in
                   *     `deformable_components_map` must correspond to real parts
                   *     attached to links defined in description.jsonc.
                   *   - Material physics SHOULD be referenced via `material_ref_str`
                   *     pointing to soft_materials_library.jsonc.
                   *   - This file defines usage/context of materials, not their
                   *     universal properties.
                   */

                  {
                    // ==============================================================
                    // 0. METADATA
                    // ==============================================================

                    "meta_group": {
                      "profile_id_str": "bio_synthetic_v2",
                      "version_semver_str": "1.1.0",
                      "last_updated_iso8601_str": "2025-11-23T19:30:00Z",

                      "solver_requirements_map": {
                        "requires_soft_body_bool": true,
                        "requires_fluid_sim_bool": true,
                        "recommended_timestep_s_float": 0.0001,
                        "recommended_substeps_int": 4,

                        // High-level compatibility hints for the kernel
                        "target_solvers_list_enum": [
                          "PHYSX_5_X",
                          "ISAAC_SIM_4_X",
                          "ISAAC_SIM_5_X",
                          "MUJOCO_3_X_FEM"
                        ]
                      },

                      "related_files_map": {
                        "description_ref_str": "01_foundation/description.jsonc",
                        "soft_materials_library_ref_str": "01_foundation/soft_materials_library.jsonc",
                        "power_distribution_ref_str": "01_foundation/power_distribution.jsonc",
                        "actuation_topology_ref_str": "01_foundation/actuation_topology.jsonc"
                      }
                    },

                    // ==============================================================
                    // 1. DEFORMABLE COMPONENTS
                    // ==============================================================

                    "deformable_components_map": {

                      // ------------------------------------------------------------
                      // 1. ACTIVE RIGIDITY GRIPPER (Smart Materials)
                      //   Granular / jamming pads on robot hand/fingers that change
                      //   stiffness with a control signal.
                      // ------------------------------------------------------------
                      "hand_gripper_pads_array": {
                        "type_enum": "ACTIVE_RIGIDITY_PAD",
                        "material_ref_str": "electro_jamming_polymer", // from soft_materials_library.jsonc

                        // Where this deformable element is anchored
                        "attachment_config": {
                          "parent_link_ref_str": "hand_right_link",
                          "contact_surface_tag_str": "fingerpads_array",
                          "coverage_area_cm2_float": 25.0
                        },

                        // PASSIVE DEFORMATION (control signal OFF)
                        "passive_response_model": {
                          "youngs_modulus_soft_pa_float": 50000.0,   // very soft
                          "poisson_ratio_float": 0.49,
                          "max_strain_pct_float": 80.0,
                          "damping_coefficient_ns_m_float": 150.0
                        },

                        // ACTIVE CONTROL (rigidity modulation)
                        "active_control_model": {
                          "rigidity_control_range_pa_vec2_float": [50000.0, 5000000.0], // 100x stiffness span
                          "control_signal_ref_str": "hand_pad_rigidity_command",        // logical channel from controller
                          "transition_time_ms_int": 20,
                          "energy_cost_w_float": 8.0      // approximate power when fully stiffening all pads
                        },

                        // Simulation hints (engine-specific adapters can override)
                        "simulation_overrides": {
                          "solver_hint_enum": "SOFT_BODY_PBD",
                          "mesh_resolution_hint_enum": "MEDIUM",
                          "enable_self_collision_bool": false,
                          "contact_friction_multiplier_float": 1.5  // stickier than bare metal
                        }
                      },

                      // ------------------------------------------------------------
                      // 2. SELF-HEALING SKIN (Autopoiesis)
                      //   Elastomeric protective layer that can repair micro-damage.
                      // ------------------------------------------------------------
                      "chassis_protective_skin": {
                        "type_enum": "SELF_HEALING_POLYMER",
                        "material_ref_str": "self_healing_polymer",

                        // Which rigid links are covered
                        "coverage_config": {
                          "covered_links_list_str": [
                            "torso_base_link",
                            "thigh_right_link",
                            "thigh_left_link"
                          ],
                          "average_thickness_m_float": 0.003
                        },

                        // DAMAGE MODEL
                        "damage_model": {
                          "damage_threshold_j_float": 5.0,          // impact energy to create damage
                          "abrasion_sensitivity_enum": "MEDIUM",
                          "max_cumulative_damage_j_float": 50.0     // above this, section is considered irreparable
                        },

                        // REPAIR MECHANISM
                        "healing_model": {
                          "healing_rate_per_s_float": 0.0001,       // 0.01% repair per second baseline
                          "requires_energy_input_w_float": 10.0,    // power draw during active healing
                          "repair_factor_thermal_dep_float": 1.5,   // heals faster at higher temp
                          "healing_activation_policy_enum": "TRIGGER_ON_DAMAGE_AND_IDLE" // only when robot is not busy
                        },

                        // Ledger / Volition coupling: healing has a cost
                        "ledger_integration": {
                          "energy_cost_credit_per_joule_float": 1.0, // for future eco-ledger
                          "log_healing_events_bool": true
                        },

                        "simulation_overrides": {
                          "solver_hint_enum": "SURFACE_DEFORMATION_ONLY",
                          "max_substeps_int": 2
                        }
                      },

                      // ------------------------------------------------------------
                      // 3. FLUIDIC MUSCLES (Soft Actuation)
                      //   Pressure-driven actuators approximating biological muscles.
                      // ------------------------------------------------------------
                      "bicep_hydro_actuator": {
                        "type_enum": "PNEUMATIC_FLUIDIC_MUSCLE",
                        "material_ref_str": "kevlar_reinforced_silicone",
                        "simulation_method_enum": "FINITE_ELEMENT_METHOD",

                        // Attachment & geometry
                        "mounting_config": {
                          "parent_link_ref_str": "upper_arm_right_link",
                          "child_link_ref_str": "forearm_right_link",
                          "anchor_points_local_vec3_list": [
                            [0.0, 0.03, 0.0],   // origin on upper arm
                            [0.0, 0.02, -0.18]  // insertion on forearm
                          ],
                          "rest_length_m_float": 0.22
                        },

                        // FLUIDIC PARAMETERS
                        "fluidic_params": {
                          "fluid_pressure_limits_kpa_vec2_float": [0.0, 300.0],
                          "volume_change_max_pct_float": 40.0,
                          "nominal_response_time_ms_int": 50
                        },

                        // REFERENCE TO FLUID SOURCE & CONTROL
                        "pressure_source_ref_str": "pump_unit_01",       // defined in power/compute topology
                        "control_channel_ref_str": "bicep_hydro_command",

                        // SAFETY LIMITS (structural & physiological)
                        "safety_limits": {
                          "max_safe_pressure_kpa_float": 280.0,
                          "burst_risk_threshold_pct_float": 90.0,       // above 90% of max_range considered risky
                          "max_duty_cycle_pct_float": 70.0              // to avoid overheating and material fatigue
                        },

                        // Simulation hints and fallbacks
                        "simulation_overrides": {
                          "solver_hint_enum": "FEM_COUPLED_WITH_RIGID",
                          "max_solver_iterations_int": 25,
                          "enable_internal_pressure_visualization_bool": true
                        }
                      }
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/soft_materials_library.jsonc",
                  "id": "soft_materials_library",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD v0.2 — REFERENCE IMPLEMENTATION
                   * ------------------------------------------------------------------
                   * FILE: soft_materials_library.jsonc
                   * CONTEXT: 01_FOUNDATION (THE BODY — MATERIAL CATALOG)
                   *
                   * PURPOSE:
                   *   Centralized catalog of advanced / soft / smart materials used
                   *   across the robot embodiment. Each entry defines physical,
                   *   thermal, and actuation-relevant properties.
                   *
                   * HUMAN INTERPRETATION:
                   *   Think of this as the "periodic table" of your robot’s body:
                   *   what its skin, muscles, pads, and soft parts are made of.
                   *
                   * LLM INTERPRETATION:
                   *   - DO NOT invent new fields.
                   *   - Reference materials from other files via `material_ref_str`.
                   *   - This file is generic; contextual usage (e.g., on a specific
                   *     link or actuator) belongs in soft_body_dynamics.jsonc.
                   */

                  {
                    "meta_group": {
                      "materials_library_id_str": "soft_materials_core_v1",
                      "version_semver_str": "1.0.0",
                      "last_updated_iso8601_str": "2025-11-23T19:15:00Z",

                      "related_files_map": {
                        "description_ref_str": "01_foundation/description.jsonc",
                        "soft_body_dynamics_ref_str": "01_foundation/soft_body_dynamics.jsonc",
                        "physics_solver_overrides_ref_str": "01_foundation/physics_solver_overrides.jsonc"
                      }
                    },

                    // ==============================================================
                    // MATERIAL CATALOG
                    // Keys are canonical material IDs used across the bundle.
                    // ==============================================================

                    "material_catalog_map": {

                      // ------------------------------------------------------------
                      // 1. ELECTRO-JAMMING POLYMER (ACTIVE RIGIDITY)
                      // ------------------------------------------------------------
                      "electro_jamming_polymer": {
                        "class_enum": "ACTIVE_RIGIDITY_MEDIA",
                        "short_description_str": "Granular / polymer matrix that stiffens under electric or vacuum stimulus.",

                        "mechanical_properties": {
                          "youngs_modulus_soft_pa_float": 5.0e4,    // default soft state
                          "youngs_modulus_stiff_pa_float": 5.0e6,   // active, jammed state
                          "poisson_ratio_float": 0.49,
                          "density_kg_m3_float": 1200.0
                        },

                        "control_channel_spec": {
                          "activation_mode_enum": "ELECTRO_OR_VACUUM",
                          "nominal_activation_voltage_v_float": 24.0,
                          "activation_latency_ms_float": 15.0,
                          "deactivation_latency_ms_float": 25.0
                        },

                        "thermal_properties": {
                          "operating_temp_range_c_vec2_float": [-10.0, 60.0],
                          "max_safe_temp_c_float": 70.0
                        }
                      },

                      // ------------------------------------------------------------
                      // 2. SELF-HEALING POLYMER (ROBOT SKIN)
                      // ------------------------------------------------------------
                      "self_healing_polymer": {
                        "class_enum": "SELF_HEALING_SKIN",
                        "short_description_str": "Elastomeric skin with microcapsule-based self-repair chemistry.",

                        "mechanical_properties": {
                          "youngs_modulus_pa_float": 1.0e6,
                          "poisson_ratio_float": 0.48,
                          "density_kg_m3_float": 1100.0,
                          "max_strain_pct_float": 150.0
                        },

                        "healing_properties": {
                          "baseline_healing_rate_per_s_float": 0.0001,   // 0.01% per s
                          "thermal_acceleration_factor_float": 1.5,      // faster with heat
                          "max_damage_energy_j_float": 10.0              // damage above this may be irreparable
                        },

                        "energy_cost_model": {
                          "healing_power_draw_w_float": 10.0,            // nominal at active repair
                          "min_healing_temp_c_float": 5.0                // below this, healing almost stops
                        }
                      },

                      // ------------------------------------------------------------
                      // 3. KEVLAR-REINFORCED SILICONE (SOFT MUSCLE SHEATH)
                      // ------------------------------------------------------------
                      "kevlar_reinforced_silicone": {
                        "class_enum": "SOFT_ACTUATION_ENVELOPE",
                        "short_description_str": "Silicone matrix with Kevlar fibers for high-pressure fluidic muscles.",

                        "mechanical_properties": {
                          "youngs_modulus_pa_float": 3.0e6,
                          "poisson_ratio_float": 0.47,
                          "density_kg_m3_float": 1300.0,
                          "burst_pressure_kpa_float": 500.0
                        },

                        "fluidic_compatibility": {
                          "compatible_fluids_list_enum": ["AIR", "WATER_GLYCOL_MIX"],
                          "max_operating_pressure_kpa_float": 300.0,
                          "recommended_safety_factor_float": 1.5
                        },

                        "thermal_properties": {
                          "operating_temp_range_c_vec2_float": [-20.0, 80.0],
                          "max_safe_temp_c_float": 90.0
                        }
                      }
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/surface_properties.jsonc",
                  "id": "surface_properties",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD - SURFACE PROPERTIES v0.5
                   * ------------------------------------------------------------------
                   * FILE: surface_properties.jsonc
                   * CONTEXT: 01_FOUNDATION (The Body)
                   *
                   * PURPOSE:
                   * Defines both the physical properties (for Physics Engines like Isaac/MuJoCo)
                   * and the semantic properties (for AI reasoning/Safety) of the robot's surfaces.
                   *
                   * BRIDGES:
                   * - Physics: Friction, Restitution, Density -> Used by 'rgd export isaac'
                   * - Cognition: Hazard Levels, Thermal Properties -> Used by '02_operation/safety_critical'
                   */

                  {
                    // ==============================================================
                    // 0. METADATA
                    // ==============================================================
                    "meta_group": {
                      "profile_id_str": "bhl_surfaces_hybrid_v1",
                      "version_semver_str": "1.2.0",
                      "last_updated_iso8601_str": "2025-11-25T15:00:00Z",
                      "domain_id_str": "01_foundation",

                      "related_files_map": {
                        "description_ref_str": "01_foundation/description.jsonc",
                        "safety_critical_ref_str": "02_operation/safety_critical.jsonc"
                      }
                    },

                    // ==============================================================
                    // 1. MATERIAL CATALOG (Reusable Definitions)
                    // Defines physics and semantics for each material type.
                    // ==============================================================
                    "materials_catalog_map": {

                      // ------------------------------------------------------------
                      // GRIPPER PADS (High Friction / Soft)
                      // ------------------------------------------------------------
                      "silicone_rubber_shore_a40": {
                        "description_str": "Soft grip pads for manipulation.",
      
                        // --- PHYSICS (Isaac/MuJoCo) ---
                        "physics_properties": {
                          "static_friction_coeff_float": 1.0,    // Very sticky
                          "dynamic_friction_coeff_float": 0.8,
                          "restitution_coeff_float": 0.0,        // No bounce (absorbs impact)
                          "density_kg_m3_float": 1200.0
                        },

                        // --- SEMANTICS (AI/Safety) ---
                        "semantic_properties": {
                          "surface_type_enum": "ELASTOMER",
                          "hardness_shore_a_int": 40,
                          "thermal_conductivity_w_mk_float": 0.18, // Insulator (safe to touch hot objects briefly)
                          "hazard_level_enum": "SAFE_FOR_HUMAN_CONTACT"
                        }
                      },

                      // ------------------------------------------------------------
                      // CHASSIS SHELL (Low Friction / Rigid)
                      // ------------------------------------------------------------
                      "carbon_fiber_composite": {
                        "description_str": "Rigid structural outer shell.",

                        // --- PHYSICS ---
                        "physics_properties": {
                          "static_friction_coeff_float": 0.35,   // Slippery
                          "dynamic_friction_coeff_float": 0.30,
                          "restitution_coeff_float": 0.5,        // Slightly bouncy (rigid)
                          "density_kg_m3_float": 1600.0
                        },

                        // --- SEMANTICS ---
                        "semantic_properties": {
                          "surface_type_enum": "RIGID_COMPOSITE",
                          "hardness_shore_d_int": 85,
                          "fragility_enum": "ROBUST",
                          "hazard_level_enum": "LOW_RISK"
                        }
                      },

                      // ------------------------------------------------------------
                      // EXPOSED METAL / EDGES (Collision Hazards)
                      // ------------------------------------------------------------
                      "machined_aluminum_6061": {
                        "description_str": "Exposed structural metal elements.",

                        // --- PHYSICS ---
                        "physics_properties": {
                          "static_friction_coeff_float": 0.6,
                          "dynamic_friction_coeff_float": 0.5,
                          "restitution_coeff_float": 0.3,
                          "density_kg_m3_float": 2700.0
                        },

                        // --- SEMANTICS ---
                        "semantic_properties": {
                          "surface_type_enum": "METAL",
                          "thermal_conductivity_w_mk_float": 167.0, // Conductive (gets hot fast)
                          "hazard_level_enum": "CAUTION_BLUNT_IMPACT", // Hard surface, dangerous in collision
                          "max_impact_energy_j_float": 50.0
                        }
                      }
                    },

                    // ==============================================================
                    // 2. LINK BINDING (Topology Map)
                    // Maps the visual/collision meshes to the materials above.
                    // Crucial for "rgd export isaac" or "rgd export mujoco".
                    // ==============================================================
                    "link_surface_binding_map": {
                      // Feet / Hands
                      "foot_right_link": "silicone_rubber_shore_a40",
                      "foot_left_link": "silicone_rubber_shore_a40",
                      "finger_pad_left": "silicone_rubber_shore_a40",
                      "finger_pad_right": "silicone_rubber_shore_a40",

                      // Body
                      "torso_base_link": "carbon_fiber_composite",
                      "head_link": "carbon_fiber_composite",

                      // Skeleton
                      "thigh_right_link": "machined_aluminum_6061",
                      "shin_right_link": "machined_aluminum_6061"
                    },

                    // ==============================================================
                    // 3. DOMAIN RANDOMIZATION POLICY (The RL Secret Sauce)
                    // Instructs Simulators on how to vary these values during training.
                    // ==============================================================
                    "domain_randomization_policy": {
                      "enabled_bool": true,
    
                      // Ranges are multipliers [min_factor, max_factor] or absolute deltas.
                      "parameter_ranges_map": {
      
                        "global_friction_scale": {
                          "description": "Simulates walking on different surfaces (ice vs carpet)",
                          "range_multiplier_vec2_float": [0.5, 1.5] 
                        },

                        "actuator_friction_noise": {
                          "description": "Simulates dirty or degraded bearings",
                          "additive_noise_std_dev_float": 0.05
                        },

                        "mass_estimation_error": {
                          "description": "Simulates payload variations or calibration errors",
                          "range_multiplier_vec2_float": [0.95, 1.05]
                        }
                      }
                    }
                  }
                },
                {
                  "path": "spec/01_foundation/wear_fatigue_model.jsonc",
                  "id": "wear_fatigue_model",
                  "domain": "01_foundation",
                  "content": 
                  /**
                   * ------------------------------------------------------------------
                   * OPEN R.G.D. STANDARD v0.2 - REFERENCE IMPLEMENTATION
                   * ------------------------------------------------------------------
                   * FILE: wear_fatigue_model.jsonc
                   * CONTEXT: 01_FOUNDATION (THE BODY — DEGRADATION & FATIGUE)
                   *
                   * PURPOSE:
                   *   Defines structural, electro-mechanical, and chemical wear models
                   *   for critical components. Used by:
                   *     - ledger.jsonc          → economic depreciation & replacement cost
                   *     - immunology.jsonc      → predictive maintenance & failure prediction
                   *
                   * KEY PRINCIPLE:
                   *   Static cost (lifespan budget) of dynamic actions
                   *   (cycles, torque, temperature, runtime hours).
                   *
                   * HUMAN INTERPRETATION:
                   *   This file answers: "Quante vite ha questo componente,
                   *   e cosa le consuma più in fretta?"
                   *
                   * LLM INTERPRETATION:
                   *   - DO NOT invent new keys or units.
                   *   - Each entry in `fatigue_models_map` describes how one logical
                   *     component wears out over time and usage.
                   *   - This file encodes *models*, not live telemetry.
                   */

                  {
                    // ==============================================================
                    // 0. METADATA
                    // ==============================================================

                    "meta_group": {
                      "wear_model_profile_id_str": "mechanical_degradation_v1",
                      "version_semver_str": "1.0.1",
                      "last_validated_iso8601_str": "2025-11-23T20:00:00Z",

                      "related_files_map": {
                        "description_ref_str": "01_foundation/description.jsonc",
                        "actuation_library_ref_str": "01_foundation/actuation_library.jsonc",
                        "power_distribution_ref_str": "01_foundation/power_distribution.jsonc",
                        "ledger_ref_str": "04_volition/ledger.jsonc",
                        "immunology_ref_str": "04_volition/immunology.jsonc"
                      }
                    },

                    // ==============================================================
                    // 1. FATIGUE MODELS
                    // Each key corresponds to a component family or model.
                    // ==============================================================

                    "fatigue_models_map": {

                      // ------------------------------------------------------------
                      // 1. ACTUATORS (Electro-Mechanical Wear)
                      //    High-stress components where lifespan is measured in
                      //    motion cycles / revolutions under load and temperature.
                      // ------------------------------------------------------------
                      "actuator_tmotor_ak80": {
                        "component_type_enum": "MOTOR_SERVO",
                        // Links to actuation_library for detailed specs
                        "component_model_ref_str": "tmotor_ak80_9_v2",

                        // Base lifespan under nominal conditions
                        "lifespan_base_cycles_int": 5000000,            // nominal revolutions before mandatory replacement
                        "unit_of_wear_enum": "REVOLUTION_COUNT",

                        // STRESS ANALYSIS MODEL
                        "stress_penalty_model": {
                          "model_type_enum": "RAINFLOW_COUNTING",       // cumulative fatigue algorithm
                          "high_load_threshold_nm_float": 40.0,         // torque above which additional penalty applies
                          "high_load_multiplier_float": 3.0,            // wear rate ×3 above threshold
                          "overload_cutoff_nm_float": 60.0,             // above this, cycles may be counted as "severe"
                          "severe_overload_multiplier_float": 10.0      // extreme cases (e.g. stall under heavy load)
                        },

                        // THERMAL FATIGUE MODEL
                        "thermal_fatigue": {
                          "temp_threshold_c_float": 90.0,               // temperature above which wear accelerates
                          "temp_impact_multiplier_float": 2.0,          // wear rate ×2 above threshold
                          "catastrophic_temp_c_float": 120.0,           // beyond this, component considered near-failure
                          "thermal_cycles_penalty_factor_float": 1.2    // repeated hot-cold cycles amplify damage
                        },

                        // LUBRICATION / FRICTION DEGRADATION (optional hook)
                        "friction_ageing_model": {
                          "base_friction_increase_pct_over_life_float": 30.0, // expected rise in friction from new → EOL
                          "backlash_increase_factor_over_life_float": 2.0     // backlash roughly doubles near EOL
                        },

                        // SYMPTOMS USED BY IMMUNOLOGY FOR PREDICTIVE DIAGNOSTICS
                        "failure_symptoms_list_str": [
                          "increase_backlash_error",
                          "spike_in_static_friction",
                          "unexpected_noise_signature",
                          "overtemp_events_frequency_increase"
                        ]
                      },

                      // ------------------------------------------------------------
                      // 2. CHEMICAL & POWER SOURCE (BATTERY WEAR)
                      //    Lifespan measured in equivalent full cycles (Depth-of-Discharge).
                      // ------------------------------------------------------------
                      "battery_main_pack": {
                        "component_type_enum": "CHEMICAL_CELLS",
                        "component_model_ref_str": "main_battery_pack_v1", // optional mapping in power_distribution

                        // Base life in equivalent full charge/discharge cycles (0–100–0)
                        "lifespan_base_cycles_int": 1000,
                        "unit_of_wear_enum": "DISCHARGE_CYCLE_COUNT",

                        "discharge_penalty_model": {
                          "dod_below_10pct_multiplier_float": 2.5,     // going below 10% SoC counts as 2.5× wear
                          "dod_above_90pct_multiplier_float": 1.5,     // repeatedly charging above 90% also hurts
                          "calendar_aging_factor_pct_per_year_float": 5.0 // capacity loss per year even if unused
                        },

                        "thermal_penalty_model": {
                          "high_temp_threshold_c_float": 45.0,
                          "high_temp_multiplier_float": 1.8,           // cycles at high temp wear faster
                          "low_temp_threshold_c_float": 0.0,
                          "low_temp_multiplier_float": 1.3            // cold cycles also penalized (lithium stress)
                        },

                        "performance_degradation_type_enum": "CAPACITY_LOSS",
                        "end_of_life_criteria": {
                          "remaining_capacity_pct_threshold_float": 70.0,  // below 70% considered EOL for performance
                          "internal_resistance_increase_pct_threshold_float": 100.0
                        }
                      },

                      // ------------------------------------------------------------
                      // 3. STRUCTURAL & PASSIVE (Bearings, Chassis)
                      // ------------------------------------------------------------

                      // 3.1 Hip Bearings
                      "structural_bearings_hips": {
                        "component_type_enum": "BEARING_JOINT",
                        "lifespan_base_hours_float": 10000.0,           // runtime hours
                        "unit_of_wear_enum": "OPERATIONAL_HOURS",

                        "load_penalty_model": {
                          "nominal_load_nm_float": 40.0,                // expected torque at hip
                          "overload_factor_threshold_float": 1.5,       // >1.5× nominal considered overload
                          "overload_multiplier_float": 2.0              // overload hours count double
                        },

                        "contamination_risk_enum": "MEDIUM",            // dust, moisture, etc.
                        "recommended_replacement_policy_enum": "REPLACE_AT_80_PERCENT_LIFE"
                      },

                      // 3.2 Chassis Fasteners (Bolts, screws)
                      "fasteners_main_chassis": {
                        "component_type_enum": "FASTENER_JOINT",

                        // No continuous fatigue model, but mandatory inspection schedule
                        "inspection_interval_hours_int": 500,           // visual check every 500 hours
                        "max_reuse_cycles_int": 5,                      // times a critical bolt may be loosened/re-tightened
                        "unit_of_wear_enum": "MAINTENANCE_EVENTS",

                        "criticality_level_enum": "SAFETY_CRITICAL",
                        "inspection_symptoms_list_str": [
                          "visible_looseness",
                          "corrosion_spots",
                          "elongated_holes_or_play"
                        ]
                      }
                    }
                  }
                }
              ]
            }
          }
        ]
      }
    }
  ]
}