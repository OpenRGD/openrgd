{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://openrgd.org/schemas/v0.2/master.json",
  "title": "OpenRGD Master Schema",
  "description": "Canonical naming, type and struct conventions for all OpenRGD JSONC files (v0.2). This is a meta-schema for humans, LLMs and tooling \u2014 not a strict validator.",
  "naming_conventions": {
    "_id_str": {
      "description": "Stable identifier string for entities, profiles, challenges, etc.",
      "pattern": "^[a-z0-9_\\.]+$"
    },
    "_ref_str": {
      "description": "Reference to another local identifier or external file.",
      "pattern": "^[A-Za-z0-9_\\./-]+$"
    },
    "_enum": {
      "description": "Enumerated symbolic value (UPPER_SNAKE_CASE by convention).",
      "pattern": "^[A-Z0-9_]+$"
    },
    "_str": {
      "description": "Generic UTF-8 string; semantics given by context.",
      "base_type": "string"
    },
    "_float": {
      "description": "IEEE 754 floating point value with additional semantic constraints defined in type_definitions_map.",
      "base_type": "number"
    },
    "_int": {
      "description": "Integer value (32-bit safe range unless otherwise specified).",
      "base_type": "integer"
    },
    "_iso8601_str": {
      "description": "ISO 8601 timestamp or date string.",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}([Tt ][0-9]{2}:[0-9]{2}:[0-9]{2}(Z|[\\+\\-][0-9]{2}:[0-9]{2}))?$"
    },
    "_uri_str": {
      "description": "Valid URI/URL string (http, https, ws, wss, mailto, etc.).",
      "pattern": "^[a-zA-Z][a-zA-Z0-9+\\-.]*:.+$"
    },
    "_semver_str": {
      "description": "Semantic Versioning string MAJOR.MINOR.PATCH.",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
    }
  },
  "type_definitions_map": {
    "utility_float": {
      "description": "Generic utility value used in internal scoring and arbitration. Normalized to a safe numeric band.",
      "min_inclusive": -1000.0,
      "max_inclusive": 1000.0
    },
    "probability_float": {
      "description": "Probability in [0.0, 1.0].",
      "min_inclusive": 0.0,
      "max_inclusive": 1.0
    },
    "weight_0_1_float": {
      "description": "Soft weight or importance coefficient in [0.0, 1.0].",
      "min_inclusive": 0.0,
      "max_inclusive": 1.0
    },
    "ratio_0_1_float": {
      "description": "Generic ratio in [0.0, 1.0], used for thresholds, quorums, etc.",
      "min_inclusive": 0.0,
      "max_inclusive": 1.0
    },
    "non_negative_float": {
      "description": "Any non-negative real-valued quantity (time, distance, etc.).",
      "min_inclusive": 0.0
    },
    "non_negative_int": {
      "description": "Non-negative integer quantity (counts, cycles, etc.).",
      "min_inclusive": 0
    },
    "angle_deg_float": {
      "description": "Angle in degrees, typically [-360.0, 360.0].",
      "min_inclusive": -360.0,
      "max_inclusive": 360.0
    },
    "angle_rad_float": {
      "description": "Angle in radians, typically [-6.2832, 6.2832].",
      "min_inclusive": -6.2832,
      "max_inclusive": 6.2832
    },
    "duration_s_float": {
      "description": "Generic time duration in seconds (non-negative).",
      "min_inclusive": 0.0
    },
    "latency_ms_int": {
      "description": "Latency in milliseconds (non-negative integer).",
      "min_inclusive": 0,
      "max_inclusive": 600000
    },
    "epoch_ms_int": {
      "description": "Unix epoch time in milliseconds.",
      "min_inclusive": 0
    },
    "distance_m_float": {
      "description": "Distance in meters.",
      "min_inclusive": -10000.0,
      "max_inclusive": 10000.0
    },
    "mass_kg_float": {
      "description": "Mass in kilograms.",
      "min_inclusive": 0.0,
      "max_inclusive": 10000.0
    },
    "torque_nm_float": {
      "description": "Torque in Newton-meters.",
      "min_inclusive": 0.0,
      "max_inclusive": 10000.0
    },
    "velocity_rad_s_float": {
      "description": "Angular velocity in rad/s.",
      "min_inclusive": 0.0,
      "max_inclusive": 1000.0
    },
    "voltage_v_float": {
      "description": "Electric potential in Volts.",
      "min_inclusive": 0.0,
      "max_inclusive": 1000.0
    },
    "current_a_float": {
      "description": "Electric current in Amperes.",
      "min_inclusive": 0.0,
      "max_inclusive": 1000.0
    },
    "power_w_float": {
      "description": "Electric power in Watts.",
      "min_inclusive": 0.0,
      "max_inclusive": 1000000.0
    },
    "generic_id_str": {
      "description": "ID string matching naming_conventions._id_str.pattern.",
      "pattern_ref": "_id_str"
    },
    "uuid_like_str": {
      "description": "UUIDv4/v7-like identifier.",
      "pattern": "^[0-9a-fA-F\\-]{32,40}$"
    },
    "uri_str": {
      "description": "URI string matching naming_conventions._uri_str.pattern.",
      "pattern_ref": "_uri_str"
    },
    "iso8601_datetime_str": {
      "description": "ISO 8601 timestamp string.",
      "pattern_ref": "_iso8601_str"
    },
    "semver_str": {
      "description": "Semantic Version string.",
      "pattern_ref": "_semver_str"
    },
    "bool": {
      "description": "Standard boolean true/false."
    },
    "enum_upper_snake": {
      "description": "Uppercase symbolic enum value.",
      "pattern_ref": "_enum"
    },
    "trust_score_float": {
      "description": "Trust score \u2208 [0.0, 1.0] used in reputation_graph.",
      "min_inclusive": 0.0,
      "max_inclusive": 1.0
    },
    "progress_pct_float": {
      "description": "Progress percentage \u2208 [0.0, 100.0].",
      "min_inclusive": 0.0,
      "max_inclusive": 100.0
    },
    "temperature_celsius_float": {
      "description": "Temperature in degrees Celsius.",
      "min_inclusive": -273.15,
      "max_inclusive": 1000.0
    }
  },
  "enum_sets_map": {
    "unit_of_wear_enum": {
      "description": "Unit in which wear is accumulated.",
      "allowed_values": [
        "REVOLUTION_COUNT",
        "DISCHARGE_CYCLE_COUNT",
        "OPERATIONAL_HOURS",
        "MAINTENANCE_EVENTS"
      ]
    },
    "fatigue_model_type_enum": {
      "description": "Mathematical model used to aggregate fatigue damage.",
      "allowed_values": [
        "RAINFLOW_COUNTING",
        "MINER_LINEAR_DAMAGE",
        "SIMPLE_SCALAR_COUNTER"
      ]
    },
    "performance_degradation_type_enum": {
      "description": "Primary degradation mode of the component.",
      "allowed_values": [
        "CAPACITY_LOSS",
        "EFFICIENCY_LOSS",
        "INCREASED_FRICTION",
        "STRUCTURAL_LOOSENING"
      ]
    },
    "component_type_enum": {
      "description": "High-level type of physical component for wear modelling.",
      "allowed_values": [
        "MOTOR_SERVO",
        "CHEMICAL_CELLS",
        "BEARING_JOINT",
        "FASTENER_JOINT",
        "STRUCTURAL_MEMBER"
      ]
    },
    "qos_reliability_enum": {
      "description": "QoS reliability mode (ROS2/DDS).",
      "allowed_values": [
        "BEST_EFFORT",
        "RELIABLE"
      ]
    },
    "qos_durability_enum": {
      "description": "QoS durability mode (ROS2/DDS).",
      "allowed_values": [
        "VOLATILE",
        "TRANSIENT_LOCAL"
      ]
    },
    "qos_history_enum": {
      "description": "QoS history mode (ROS2/DDS).",
      "allowed_values": [
        "KEEP_LAST",
        "KEEP_ALL"
      ]
    },
    "criticality_level_enum": {
      "description": "Safety criticality of the component or function.",
      "allowed_values": [
        "NON_CRITICAL",
        "OPERATIONAL_IMPORTANT",
        "SAFETY_CRITICAL"
      ]
    },
    "firmware_type_enum": {
      "description": "Type/category of firmware image.",
      "allowed_values": [
        "MOTOR_DRIVER",
        "MCU_CONTROL",
        "FPGA_BITSTREAM",
        "SBC_OS_IMAGE",
        "SENSOR_FIRMWARE"
      ]
    }
  },
  "struct_definitions_map": {
    "meta_group_struct": {
      "description": "Standard meta_group header for most OpenRGD files.",
      "required_fields_list": [
        "<something>_id_str",
        "version_semver_str",
        "last_updated_iso8601_str"
      ],
      "field_type_hints_map": {
        "version_semver_str": "semver_str",
        "last_updated_iso8601_str": "iso8601_datetime_str",
        "license_enum": "enum_upper_snake"
      }
    },
    "governance_struct": {
      "description": "Standard governance block: who maintains this file.",
      "required_fields_list": [
        "stewardship_organization_str",
        "lead_maintainer_str"
      ],
      "field_type_hints_map": {
        "stewardship_organization_str": "string",
        "lead_maintainer_str": "string",
        "maintainer_role_enum": "enum_upper_snake",
        "contact_uri_str": "uri_str"
      }
    },
    "file_ref_struct": {
      "description": "Reference to another OpenRGD file.",
      "required_fields_list": [
        "defined_in_file_str"
      ],
      "field_type_hints_map": {
        "defined_in_file_str": "string"
      }
    },
    "qos_profile_struct": {
      "description": "QoS profile used in hal_mapping.qos_profiles_map.",
      "required_fields_list": [
        "description_str",
        "reliability_enum",
        "durability_enum",
        "history_enum",
        "depth_int"
      ],
      "field_type_hints_map": {
        "description_str": "string",
        "reliability_enum": "qos_reliability_enum",
        "durability_enum": "qos_durability_enum",
        "history_enum": "qos_history_enum",
        "depth_int": "non_negative_int"
      }
    },
    "fatigue_model_entry_struct": {
      "description": "Standard pattern for entries in fatigue_models_map.",
      "required_fields_list": [
        "component_type_enum",
        "lifespan_base_cycles_int OR lifespan_base_hours_float",
        "unit_of_wear_enum"
      ],
      "field_type_hints_map": {
        "component_type_enum": "component_type_enum",
        "component_model_ref_str": "generic_id_str",
        "lifespan_base_cycles_int": "non_negative_int",
        "lifespan_base_hours_float": "non_negative_float",
        "unit_of_wear_enum": "unit_of_wear_enum",
        "criticality_level_enum": "criticality_level_enum"
      },
      "nested_blocks_hints_map": {
        "stress_penalty_model": {
          "model_type_enum": "fatigue_model_type_enum"
        },
        "thermal_fatigue": {
          "temp_threshold_c_float": "temperature_celsius_float"
        }
      }
    },
    "firmware_entry_struct": {
      "description": "Definition of a firmware artifact and its compatibility.",
      "required_fields_list": [
        "firmware_id_str",
        "firmware_type_enum",
        "version_semver_str"
      ],
      "field_type_hints_map": {
        "firmware_id_str": "generic_id_str",
        "firmware_type_enum": "firmware_type_enum",
        "version_semver_str": "semver_str",
        "download_uri_str": "uri_str",
        "checksum_sha256_str": "string"
      }
    }
  },
  "file_patterns_map": {
    "01_foundation/wear_fatigue_model.jsonc": {
      "root_required_fields_list": [
        "meta_group",
        "fatigue_models_map"
      ],
      "root_field_type_hints_map": {
        "meta_group": "meta_group_struct",
        "fatigue_models_map": "map_of_fatigue_model_entry_struct"
      }
    },
    "01_foundation/hal_mapping.jsonc": {
      "root_required_fields_list": [
        "meta_group",
        "actuator_drivers_map",
        "sensor_drivers_map",
        "qos_profiles_map"
      ],
      "qos_profiles_map_value_struct": "qos_profile_struct"
    },
    "01_foundation/firmware_mapping.jsonc": {
      "root_required_fields_list": [
        "meta_group",
        "firmware_catalog_map"
      ],
      "firmware_catalog_map_value_struct": "firmware_entry_struct"
    }
  }
}