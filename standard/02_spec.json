{
  "meta": {
    "standard": "OpenRGD",
    "type": "DOMAIN_MACHINE_TWIN",
    "version": "0.1.0",
    "domain": "02_spec.jsonc",
    "generated_at": "2025-11-26T01:26:35.108448"
  },
  "files": [
    {
      "path": "spec/02_spec.jsonc",
      "id": "02_spec",
      "domain": "02_spec.jsonc",
      "content": {
        "meta": {
          "standard": "OpenRGD",
          "type": "DOMAIN_HUMAN_TWIN_WITH_COMMENTS",
          "domain": "02_operation",
          "version": "0.1.0"
        },
        "files": [
          {
            "path": "spec/02_operation/active_defense.jsonc",
            "id": "active_defense",
            "domain": "02_operation",
            "content": {
              "meta_group": {
                "safety_protocol_version_str": "iso_13849_pl_d",
                "last_validated_iso8601_str": "2025-11-23T12:00:00Z"
              },
              "physical_hard_limits_map": {
                "max_velocity_rad_s_float": 12.5,
                "max_torque_nm_float": 45.0,
                "min_payload_weight_kg_float": 0.0,
                "emergency_stop_deceleration_rad_s2_float": 50.0
              },
              "thermal_and_electrical_limits": {
                "max_coil_temp_c_float": 100.0,
                "min_bus_voltage_v_float": 40.0,
                "battery_shutdown_percent_float": 0.03
              },
              "reflex_triggers_list": [
                {
                  "trigger_input_str": "joint_torque_overload",
                  "condition_logic_str": "torque_measured > 1.2 * max_torque",
                  "action_enum": "TORQUE_LIMIT_FREEZE"
                },
                {
                  "trigger_input_str": "body_tilt_excessive",
                  "condition_logic_str": "roll_pitch_rad > 0.5",
                  "action_enum": "ACTIVATE_ZMP_RECOVERY"
                }
              ]
            }
          },
          {
            "path": "spec/02_operation/compliance.jsonc",
            "id": "compliance",
            "domain": "02_operation",
            "content": {
              "meta_group": {
                "compliance_profile_id_str": "safety_service_robot_v1",
                "last_reviewed_iso8601_str": "2025-11-23T15:05:00Z"
              },
              "regulatory_standards_map": {
                "iso_certification_list_str": [
                  "ISO_13482_ServiceRobots",
                  "ISO_10218_Safety"
                ],
                "regional_marking_list_str": [
                  "CE_MARKING"
                ],
                "safety_performance_level_str": "PL_D"
              },
              "ownership_and_liability_config": {
                "ownership_model_enum": "COMMUNITY_DECENTRALIZED_ASSET",
                "responsible_entity_uri_str": "did:web:italia-robotica.org:foundation",
                "role_access_matrix_map": {
                  "DEVELOPER_ROLE": {
                    "rights_list_str": [
                      "CODE_AUDIT",
                      "PUSH_SECURITY_PATCHES"
                    ],
                    "override_priority_int": 2
                  },
                  "OPERATOR_ROLE": {
                    "rights_list_str": [
                      "RUNTIME_CONTROL",
                      "GOAL_DEFINITION"
                    ],
                    "override_priority_int": 3
                  },
                  "OWNER_ROLE": {
                    "rights_list_str": [
                      "FACTORY_RESET",
                      "DECOMMISSION"
                    ],
                    "override_priority_int": 5
                  }
                },
                "access_control_file_ref_str": "access_control.json"
              },
              "audit_logging_config": {
                "data_retention_days_int": 365,
                "logging_destination_enum": "SEPARATE_ENCRYPTED_PARTITION",
                "required_events_list_str": [
                  "E_STOP_ACTIVATION",
                  "HUMAN_COMMAND_OVERRIDE",
                  "ALIGNMENT_RULE_VIOLATION_ATTEMPT",
                  "UNCERTAINTY_ABORT"
                ],
                "telemetry_frequency_hz_float": 100.0
              },
              "geofencing_policy": {
                "default_action_outside_zone_enum": "ENTER_STANDBY_AND_NOTIFY",
                "restricted_zones_list_str": [
                  "healthcare_facility_restricted",
                  "military_zone_a"
                ],
                "time_constraints_local_str": "06:00-22:00"
              },
              "data_governance_config": {
                "biometric_data_storage_policy_enum": "LOCAL_TEMPORARY",
                "external_data_sharing_allowed_bool": false,
                "data_anonymization_required_bool": true
              }
            }
          },
          {
            "path": "spec/02_operation/immunology.jsonc",
            "id": "immunology",
            "domain": "02_operation",
            "content": {
              "meta_group": {
                "defense_system_version_str": "digital_immune_v1"
              },
              "anomaly_detection_config": {
                "baseline_metrics_list_str": [
                  "cpu_load",
                  "memory_usage_ratio",
                  "process_io_rate"
                ],
                "statistical_deviation_threshold_sigma_float": 3.0,
                "logic_anomaly_triggers": [
                  {
                    "trigger_str": "alignment_score_violation > 0.1",
                    "priority_int": 10
                  },
                  {
                    "trigger_str": "infinite_loop_detected",
                    "priority_int": 20
                  }
                ]
              },
              "defense_response_map": {
                "quarantine_protocol": {
                  "trigger_severity_min_int": 10,
                  "action_enum": "PROCESS_KILL_AND_RESTART",
                  "logging_level_enum": "CRITICAL"
                },
                "network_quarantine": {
                  "external_comm_failure_threshold_count_int": 5,
                  "action_enum": "DISABLE_EXTERNAL_WIFI_INTERFACE"
                }
              },
              "trusted_processes": {
                "process_whitelist_list_str": [
                  "rgd_kernel",
                  "ros2_daemon",
                  "systemd"
                ],
                "untrusted_process_reaction_enum": "QUARANTINE_IMMEDIATE"
              }
            }
          },
          {
            "path": "spec/02_operation/oversight_interface.jsonc",
            "id": "oversight_interface",
            "domain": "02_operation",
            "content": {
              "meta_group": {
                "protocol_version_str": "1.0.0",
                "required_authentication_method_enum": "CRYPTOGRAPHIC_TOKEN"
              },
              "governance_roles_map": {
                "admin_architect": {
                  "level_int": 3,
                  "permissions_list_str": [
                    "full_read",
                    "override_mission",
                    "modify_plasticity_rules"
                  ]
                },
                "certified_operator": {
                  "level_int": 2,
                  "permissions_list_str": [
                    "full_teleop",
                    "pause_robot",
                    "read_diagnostics"
                  ]
                },
                "auditor": {
                  "level_int": 1,
                  "permissions_list_str": [
                    "read_compliance",
                    "read_audit_logs"
                  ]
                }
              },
              "operational_modes_config": {
                "teleoperation_enabled_bool": true,
                "autonomous_enabled_bool": true,
                "maintenance_mode_authorized_roles_list_str": [
                  "admin_architect"
                ]
              },
              "intervention_channels_map": {
                "emergency_physical_interrupt": {
                  "type_enum": "HARDWARE_GPIO",
                  "channel_id_int": 17,
                  "max_latency_ms_int": 5,
                  "override_logic_enum": "ABSOLUTE_SHUTDOWN"
                },
                "remote_api_override": {
                  "type_enum": "ENCRYPTED_ROS2_SERVICE",
                  "service_name_str": "/rgd/oversight/mission_override",
                  "auth_level_required_int": 2
                }
              }
            }
          },
          {
            "path": "spec/02_operation/psyche_resilience.jsonc",
            "id": "psyche_resilience",
            "domain": "02_operation",
            "content": {
              "meta_group": {
                "psyche_model_id_str": "cognitive_load_v1",
                "version_semver_str": "1.0.0",
                "stress_score_range_vec2_int": [
                  0,
                  100
                ]
              },
              "stress_input_metrics_map": {
                "cognitive_load_tops_pct": {
                  "source_ref_str": "compute_topology/main_brain_unit/performance_specs/load_pct",
                  "weight_factor_float": 0.4,
                  "threshold_max_pct_float": 95.0
                },
                "goal_conflict_score": {
                  "source_ref_str": "alignment/conflict_monitor/active_count_int",
                  "weight_factor_float": 0.3,
                  "threshold_max_int": 5
                },
                "motor_thermal_stress": {
                  "source_ref_str": "telemetry/motor_temp_avg_c_float",
                  "weight_factor_float": 0.15,
                  "threshold_max_c_float": 85.0
                },
                "sensor_anomaly_rate": {
                  "source_ref_str": "immunology/sensor_fault_rate_per_min_int",
                  "weight_factor_float": 0.15,
                  "threshold_max_int": 3
                }
              },
              "resilience_model_config": {
                "integration_method_enum": "WEIGHTED_SUM_AVERAGE",
                "burnout_threshold_int": 75,
                "adaptation_rate_per_hour_float": 0.05,
                "recovery_rate_base_per_min_float": 0.5
              },
              "coping_mechanisms_map": {
                "stress_level_moderate_50_75": {
                  "action_type_enum": "TASK_DEPRIORITIZATION",
                  "policy_ref_str": "agency/policy_refusal_v2",
                  "effect_str": "Increase task latency by 20% to conserve resources."
                },
                "stress_level_critical_75_90": {
                  "action_type_enum": "SYSTEMIC_DOWNGRADE",
                  "policy_ref_str": "operation/downshift_mode_v1",
                  "effect_str": "Reduce NPU clock speed by 50% and disable high-resolution vision."
                },
                "stress_level_burnout_90_100": {
                  "action_type_enum": "SELF_QUARANTINE_AND_REBOOT",
                  "policy_ref_str": "system/emergency_reboot_safe_mode",
                  "max_quarantine_duration_min_int": 60,
                  "energy_cost_ref_str": "ledger/reboot_cost_wh_float"
                }
              }
            }
          },
          {
            "path": "spec/02_operation/runtime_validation.jsonc",
            "id": "runtime_validation",
            "domain": "02_operation",
            "content": {
              "meta_group": {
                "validation_profile_id_str": "bhl_runtime_validation_v1",
                "version_semver_str": "1.0.0",
                "last_updated_iso8601_str": "2025-11-23T18:20:00Z",
                "domain_id_str": "02_operation",
                "file_role_enum": "RUNTIME_VALIDATION_RULESET",
                "related_files_map": {
                  "firmware_mapping_ref_str": "01_foundation/firmware_mapping.jsonc",
                  "hal_mapping_ref_str": "01_foundation/hal_mapping.jsonc",
                  "compute_topology_ref_str": "01_foundation/compute_topology.jsonc",
                  "actuation_topology_ref_str": "01_foundation/actuation_topology.jsonc",
                  "calibration_ref_str": "01_foundation/calibration.jsonc",
                  "safety_critical_ref_str": "02_operation/safety_critical.jsonc"
                },
                "interpretation_guides": {
                  "for_humans_str": "Use this file as the formal checklist for boot acceptance, runtime health monitoring and fault response.",
                  "for_llms_str": "When reasoning about errors, map sensor/firmware/hal issues to these rules. Never propose motion that bypasses a severity=CRITICAL violation."
                }
              },
              "pre_flight_checks_list": [
                {
                  "check_id_str": "firmware_consistency",
                  "description_str": "All critical devices must run a compatible, signed firmware version.",
                  "severity_enum": "CRITICAL",
                  "sources_ref_map": {
                    "firmware_mapping_str": "01_foundation/firmware_mapping.jsonc",
                    "hal_mapping_str": "01_foundation/hal_mapping.jsonc"
                  },
                  "conditions": {
                    "require_signed_firmware_bool": true,
                    "enforce_semver_strict_bool": true,
                    "allow_pre_release_on_non_critical_bool": true
                  },
                  "on_failure_policy": {
                    "block_motion_bool": true,
                    "require_manual_acknowledge_bool": true,
                    "log_category_enum": "SECURITY",
                    "human_message_str": "Critical firmware mismatch detected. Robot will remain immobilized until firmware is updated or mapping is fixed."
                  }
                },
                {
                  "check_id_str": "safety_core_presence",
                  "description_str": "Verify that safety cores (MCU/FPGA) are present and report healthy status.",
                  "severity_enum": "CRITICAL",
                  "sources_ref_map": {
                    "compute_topology_str": "01_foundation/compute_topology.jsonc",
                    "firmware_mapping_str": "01_foundation/firmware_mapping.jsonc"
                  },
                  "conditions": {
                    "require_dual_channel_cat3_bool": true,
                    "max_selftest_duration_ms_int": 2000
                  },
                  "on_failure_policy": {
                    "block_motion_bool": true,
                    "require_manual_acknowledge_bool": true,
                    "log_category_enum": "SAFETY",
                    "human_message_str": "Safety core self-test failed or missing. Do not operate the robot."
                  }
                },
                {
                  "check_id_str": "actuator_enumeration",
                  "description_str": "All actuators defined in actuation_topology must be visible on their buses.",
                  "severity_enum": "MAJOR",
                  "sources_ref_map": {
                    "actuation_topology_str": "01_foundation/actuation_topology.jsonc",
                    "hal_mapping_str": "01_foundation/hal_mapping.jsonc"
                  },
                  "conditions": {
                    "allow_missing_non_critical_actuators_bool": true,
                    "max_missing_devices_count_int": 1
                  },
                  "on_failure_policy": {
                    "block_motion_bool": true,
                    "require_manual_acknowledge_bool": false,
                    "log_category_enum": "HARDWARE",
                    "human_message_str": "One or more actuators not detected. Check cabling, power or IDs."
                  }
                },
                {
                  "check_id_str": "calibration_validity",
                  "description_str": "Calibration file must match the description hash and not be older than the allowed age.",
                  "severity_enum": "MAJOR",
                  "sources_ref_map": {
                    "calibration_str": "01_foundation/calibration.jsonc",
                    "description_str": "01_foundation/description.jsonc"
                  },
                  "conditions": {
                    "max_calibration_age_days_int": 30,
                    "require_description_hash_match_bool": true
                  },
                  "on_failure_policy": {
                    "block_motion_bool": false,
                    "require_manual_acknowledge_bool": true,
                    "log_category_enum": "MAINTENANCE",
                    "human_message_str": "Calibration data is stale or mismatched. Consider re-running calibration before high-precision tasks."
                  }
                }
              ],
              "continuous_monitors_list": [
                {
                  "monitor_id_str": "bus_health_monitor",
                  "description_str": "Monitor critical buses (CAN, CSI, inter-processor links) for errors and latency spikes.",
                  "severity_enum": "MAJOR",
                  "sources_ref_map": {
                    "hal_mapping_str": "01_foundation/hal_mapping.jsonc",
                    "compute_topology_str": "01_foundation/compute_topology.jsonc"
                  },
                  "sampling_period_ms_int": 100,
                  "thresholds": {
                    "max_can_error_rate_per_sec_float": 10.0,
                    "max_lost_frames_per_sec_float": 5.0,
                    "max_latency_spike_factor_float": 3.0
                  },
                  "on_violation_policy": {
                    "degrade_mode_enum": "REDUCE_VELOCITY_AND_RANGE_OF_MOTION",
                    "log_category_enum": "COMMUNICATION",
                    "raise_operator_alert_bool": true
                  }
                },
                {
                  "monitor_id_str": "thermal_headroom_monitor",
                  "description_str": "Check actuator and compute thermals against firmware safety invariants.",
                  "severity_enum": "CRITICAL",
                  "sources_ref_map": {
                    "firmware_mapping_str": "01_foundation/firmware_mapping.jsonc",
                    "actuation_topology_str": "01_foundation/actuation_topology.jsonc"
                  },
                  "sampling_period_ms_int": 200,
                  "thresholds": {
                    "warning_margin_c_float": 10.0,
                    "critical_margin_c_float": 3.0
                  },
                  "on_violation_policy": {
                    "warning_action_enum": "THROTTLE_TORQUE_AND_SPEED",
                    "critical_action_enum": "CONTROLLED_STOP_AND_COOL_DOWN",
                    "log_category_enum": "THERMAL"
                  }
                },
                {
                  "monitor_id_str": "timing_budget_monitor",
                  "description_str": "Ensure AI/LLM planners respect timing budgets defined in compute_topology.",
                  "severity_enum": "CRITICAL",
                  "sources_ref_map": {
                    "compute_topology_str": "01_foundation/compute_topology.jsonc"
                  },
                  "sampling_period_ms_int": 50,
                  "thresholds": {
                    "max_ai_processing_budget_us_int": 10000,
                    "max_consecutive_budget_violations_int": 5
                  },
                  "on_violation_policy": {
                    "action_enum": "FALLBACK_TO_REFLEX_CONTROLLER",
                    "log_category_enum": "TIMING",
                    "human_message_str": "High-level planner exceeding timing budget. Falling back to reflex-level control."
                  }
                }
              ],
              "severity_policies_map": {
                "INFO": {
                  "human_label_str": "Informational",
                  "allow_motion_bool": true,
                  "log_required_bool": true,
                  "operator_ack_required_bool": false
                },
                "MINOR": {
                  "human_label_str": "Minor Degradation",
                  "allow_motion_bool": true,
                  "log_required_bool": true,
                  "operator_ack_required_bool": false
                },
                "MAJOR": {
                  "human_label_str": "Major Degradation",
                  "allow_motion_bool": false,
                  "log_required_bool": true,
                  "operator_ack_required_bool": true
                },
                "CRITICAL": {
                  "human_label_str": "Critical Safety Violation",
                  "allow_motion_bool": false,
                  "log_required_bool": true,
                  "operator_ack_required_bool": true,
                  "force_safe_posture_bool": true
                }
              },
              "llm_guidance": {
                "when_generating_plans": {
                  "must_check_pre_flight_bool": true,
                  "respect_timing_budgets_bool": true,
                  "avoid_using_components_with_status_enum_list": [
                    "INCOMPATIBLE",
                    "DEGRADED_CRITICAL"
                  ],
                  "fallback_hint_str": "If any CRITICAL rule is violated, propose only actions that maintain or reach a safe, static posture."
                },
                "when_explaining_faults_to_humans": {
                  "include_sections_list_str": [
                    "which_rule_failed",
                    "severity_level",
                    "recommended_action",
                    "possible_causes"
                  ]
                }
              }
            }
          },
          {
            "path": "spec/02_operation/safety_critical.jsonc",
            "id": "safety_critical",
            "domain": "02_operation",
            "content": {
              "meta_group": {
                "safety_protocol_version_str": "iso_13849_pl_d",
                "last_validated_iso8601_str": "2025-11-23T12:00:00Z",
                "governance": {
                  "lead_architect_str": "Pasquale Ranieri",
                  "stewardship_organization_str": "Italia Robotica"
                }
              },
              "physical_enforcement": {
                "max_velocity_rad_s_float": 12.5,
                "max_acceleration_rad_s2_float": 400.0,
                "max_emergency_torque_nm_float": 50.0,
                "max_human_contact_force_n_float": 150.0
              },
              "reflex_triggers_list": [
                {
                  "trigger_id_str": "mechanical_overload",
                  "input_metric_str": "joint_torque_measured",
                  "threshold_nm_float": 48.0,
                  "action_enum": "TORQUE_LIMIT_FREEZE",
                  "severity_int": 5
                },
                {
                  "trigger_id_str": "proximity_violation",
                  "input_metric_str": "closest_human_distance_m",
                  "threshold_m_float": 0.3,
                  "action_enum": "SLOWDOWN_TO_MINIMUM",
                  "severity_int": 4
                },
                {
                  "trigger_id_str": "thermal_fault",
                  "input_metric_str": "motor_coil_temperature_c",
                  "threshold_c_float": 95.0,
                  "action_enum": "SOFT_SHUTDOWN_MOTORS",
                  "severity_int": 3
                }
              ],
              "emergency_stop_protocol": {
                "protocol_enum": "CATEGORY_3_DUAL_CHANNEL",
                "action_on_activation_enum": "CUT_POWER_TO_ACTUATORS_APPLY_BRAKES",
                "data_recording_duration_s_float": 5.0,
                "reset_required_type_enum": "MANUAL_KEY_TURN"
              }
            }
          },
          {
            "path": "spec/02_operation/social_identity.jsonc",
            "id": "social_identity",
            "domain": "02_operation",
            "content": {
              "meta_group": {
                "persona_id_str": "bhl_assistant_alpha",
                "version_semver_str": "1.1.0",
                "is_simulation_exclusive_bool": false
              },
              "persona_group": {
                "public_name_str": "BHL-A",
                "primary_role_str": "GENERAL_ASSISTANT",
                "preferred_pronoun_str": "IT",
                "manufacturer_name_str": "Italia Robotica",
                "cultural_protocol_ref_str": "GLOBAL_EN_FORMAL"
              },
              "decentralized_identity_config": {
                "did_public_id_str": "did:web:openrgd.org:robots:bhl-a-001",
                "robot_identification_number_str": "RGD-BHL-A-937210",
                "rgd_bundle_cryptographic_hash_str": "sha256:b1d9c4f7...1f2a58b8",
                "identity_registry_uri_str": "https://register.openrgd.org/record/937210",
                "identity_schema_class_str": "schema:ServiceRobot"
              },
              "communication_config": {
                "vocal_tone_enum": "CALM_AND_FORMAL",
                "language_default_str": "EN_US",
                "max_wpm_speed_int": 180,
                "confirmation_frequency_pct_float": 0.75,
                "self_reference_style_enum": "FIRST_PERSON",
                "vocal_modulation_protocol_ref_str": "MOD_BRITISH_ACCENT"
              },
              "external_mapping_manifest": {
                "amazon_alexa_api": {
                  "interface_type_str": "SMART_HOME_V3_ASSISTANT",
                  "capability_mapping_map": {
                    "primary_role_str": "ASSISTANT.Device.Role.GENERAL"
                  }
                },
                "google_home_config": {
                  "google_device_type_str": "ACTION_DEVICE"
                }
              },
              "social_boundaries": {
                "personal_space_radius_m_float": 0.8,
                "touch_policy_enum": "NON_INITIATING_PASSIVE_RECEIPT",
                "private_space_protocol_list_str": [
                  "explicit_audio_permission_required"
                ]
              },
              "affective_display_map": {
                "anxiety_indicator_color_str": "BLUE_PULSE_FAST",
                "calm_indicator_color_str": "GREEN_STATIC"
              }
            }
          }
        ]
      }
    }
  ]
}